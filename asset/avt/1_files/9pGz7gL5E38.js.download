;/*FB_PKG_DELIM*/

__d("AudioClipsBrowserBlockMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("73");b=d("FalcoLoggerInternal").create("audio_clips_browser_block_mic_access",a);e=b;g["default"]=e}),98);
__d("AudioClipsCancelledByUserFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("39");b=d("FalcoLoggerInternal").create("audio_clips_cancelled_by_user",a);e=b;g["default"]=e}),98);
__d("AudioClipsDialogNotnowMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("74");b=d("FalcoLoggerInternal").create("audio_clips_dialog_notnow_mic_access",a);e=b;g["default"]=e}),98);
__d("AudioClipsDialogOkMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("75");b=d("FalcoLoggerInternal").create("audio_clips_dialog_ok_mic_access",a);e=b;g["default"]=e}),98);
__d("AudioClipsMicAccessCheckFailedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("76");b=d("FalcoLoggerInternal").create("audio_clips_mic_access_check_failed",a);e=b;g["default"]=e}),98);
__d("AudioClipsPlaybackPauseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("44");b=d("FalcoLoggerInternal").create("audio_clips_playback_pause",a);e=b;g["default"]=e}),98);
__d("AudioClipsPlaybackResumeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("45");b=d("FalcoLoggerInternal").create("audio_clips_playback_resume",a);e=b;g["default"]=e}),98);
__d("AudioClipsPlaybackStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("47");b=d("FalcoLoggerInternal").create("audio_clips_playback_start",a);e=b;g["default"]=e}),98);
__d("AudioClipsStartRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("51");b=d("FalcoLoggerInternal").create("audio_clips_start_recording_click",a);e=b;g["default"]=e}),98);
__d("AudioClipsStopRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("52");b=d("FalcoLoggerInternal").create("audio_clips_stop_recording_click",a);e=b;g["default"]=e}),98);
__d("MessageFeedbackType",[],(function(a,b,c,d,e,f){a=Object.freeze({POSITIVE:0,NEGATIVE:1});f["default"]=a}),66);
__d("LSSubmitMessageFeedback",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("feedback_type",a[0]),d[0].set("message_id",a[1]),d[0].set("page_id",a[2]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"submit_message_feedback",c.i64.cast([0,811]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxSubmitMessageFeedbackStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSSubmitMessageFeedbackStoredProcedure",["LSSubmitMessageFeedback","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSubmitMessageFeedback"),e.feedbackType,e.messageId,e.pageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("useSubmitBusinessMessageFeedbackAction",["LSFactory","LSIntEnum","LSSubmitMessageFeedbackStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(a,b,e,g){var j=d("react-compiler-runtime").c(6),k=(h||(h=c("useReStore")))(),l;j[0]!==g||j[1]!==k||j[2]!==e||j[3]!==a||j[4]!==b?(l=function(){c("promiseDone")(k.runInTransaction(function(f){return c("LSSubmitMessageFeedbackStoredProcedure")(c("LSFactory")(f),{feedbackType:(i||(i=d("LSIntEnum"))).ofNumber(e),messageId:a,pageId:b})},"readwrite",void 0,void 0,f.id+":38"),g)},j[0]=g,j[1]=k,j[2]=e,j[3]=a,j[4]=b,j[5]=l):l=j[5];return l}g["default"]=a}),98);
__d("useBusinessMessageNegativeFeedback",["fbt","MessageFeedbackType","react-compiler-runtime","useGenAiFeedbackSubmittedToast","useSubmitBusinessMessageFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=d("react-compiler-runtime").c(3),e=c("useGenAiFeedbackSubmittedToast")(a);a=c("useSubmitBusinessMessageFeedbackAction")(a==null?void 0:a.messageId,a==null?void 0:a.senderId,c("MessageFeedbackType").NEGATIVE,e);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"C\u00e2u tr\u1ea3 l\u1eddi t\u1ec7"),b[0]=e):e=b[0];e=e;b[1]!==a?(e=[a,e],b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("BusinessMessageNegativeFeedbackMenuItem.react",["MWXMenuItem.react","react","react-compiler-runtime","useBusinessMessageNegativeFeedback"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.message;a=c("useBusinessMessageNegativeFeedback")(a);var e=a[0];a=a[1];var f;b[0]!==e||b[1]!==a?(f=i.jsx(c("MWXMenuItem.react"),{"aria-label":a,onClick:e,primaryText:a,testid:void 0}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("useBusinessMessagePositiveFeedback",["fbt","MessageFeedbackType","react-compiler-runtime","useGenAiFeedbackSubmittedToast","useSubmitBusinessMessageFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=d("react-compiler-runtime").c(3),e=c("useGenAiFeedbackSubmittedToast")(a);a=c("useSubmitBusinessMessageFeedbackAction")(a==null?void 0:a.messageId,a==null?void 0:a.senderId,c("MessageFeedbackType").POSITIVE,e);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"C\u00e2u tr\u1ea3 l\u1eddi t\u1ed1t"),b[0]=e):e=b[0];e=e;b[1]!==a?(e=[a,e],b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("BusinessMessagePositiveFeedbackMenuItem.react",["MWXMenuItem.react","react","react-compiler-runtime","useBusinessMessagePositiveFeedback"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.message;a=c("useBusinessMessagePositiveFeedback")(a);var e=a[0];a=a[1];var f;b[0]!==e||b[1]!==a?(f=i.jsx(c("MWXMenuItem.react"),{"aria-label":a,onClick:e,primaryText:a,testid:void 0}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("CDSToast.react",["fbt","BaseToast.react","CDSIcon.react","CDSIconButton.react","CDSText.react","CDSThemeConfig","MetaBrandXFilled24.svg.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={header:{marginBottom:"x1e56ztr",$$css:!0},link:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",wordBreak:"xdnwjd9",$$css:!0}};b={margin20:{marginBottom:"xieb3on",$$css:!0},margin32:{marginBottom:"x1iymm2a",$$css:!0},margin48:{marginBottom:"x13ihpsm",$$css:!0},margin64:{marginBottom:"x16bybu0",$$css:!0}};var l={20:b.margin20,32:b.margin32,48:b.margin48,64:b.margin64};function a(a){var b=d("react-compiler-runtime").c(18),e=a.action,f=a.addOnStart,g=a.density,i=a.header,n=a.message,o=a.offsetFooter,p=a.onDismiss,q=a.ref,r=a.size,s=a.testid;a=a.withoutCloseButton;r=r===void 0?"full-width":r;a=a===void 0?!1:a;var t;b[0]!==e?(t=e!=null?{label:e.label,labelRenderer:m,onPress:e.onPress,testid:e.testid}:void 0,b[0]=e,b[1]=t):t=b[1];b[2]!==p||b[3]!==a?(e=!a&&j.jsx(c("CDSIconButton.react"),{"aria-label":h._(/*BTDS*/"\u0110\u00f3ng"),onPress:p,children:j.jsx(c("CDSIcon.react"),{color:"toast-DO_NOT_USE_WILL_BE_DELETED_WITHOUT_NOTICE",icon:c("MetaBrandXFilled24.svg.react"),size:24})}),b[2]=p,b[3]=a,b[4]=e):e=b[4];b[5]!==i||b[6]!==n?(a=function(a){a=a.toastMessageId;return j.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf"},{id:a,children:[i!=null&&j.jsx(c("CDSText.react"),{color:"toastText_DO_NOT_USE_WILL_BE_DELETED_WITHOUT_NOTICE",textStyle:"bodyEmphasized",xstyle:k.header,children:i}),j.jsx(c("CDSText.react"),{color:"toastText_DO_NOT_USE_WILL_BE_DELETED_WITHOUT_NOTICE",textStyle:"body",children:n})]}))},b[5]=i,b[6]=n,b[7]=a):a=b[7];o=o&&l[o];b[8]!==f||b[9]!==g||b[10]!==p||b[11]!==r||b[12]!==t||b[13]!==e||b[14]!==a||b[15]!==o||b[16]!==s?(q=j.jsx(c("BaseToast.react"),{action:t,addOnStart:f,closeButton:e,density:g,message:a,offsetStyles:o,onDismiss:p,size:r,testid:void 0,themeConfigOverride:c("CDSThemeConfig"),toastRef:q}),b[8]=f,b[9]=g,b[10]=p,b[11]=r,b[12]=t,b[13]=e,b[14]=a,b[15]=o,b[16]=s,b[17]=q):q=b[17];return q}function m(a){return j.jsx(c("CDSText.react"),{color:"toastTextLink",textStyle:"body",xstyle:k.link,children:a})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("ChangeVoteFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5497");b=d("FalcoLoggerInternal").create("change_vote",a);e=b;g["default"]=e}),98);
__d("CometFRXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10096808400365839"}),null);
__d("CometFRXQuery$Parameters",["CometFRXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometFRXQuery_facebookRelayOperation"),metadata:{},name:"CometFRXQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometFRX.entrypoint",["CometFRXQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.conformed_interface_override,e=a.entryPoint,f=a.id,g=a.location;a=a.responsible_id;return{queries:{frx:{parameters:c("CometFRXQuery$Parameters"),variables:{input:{conformed_interface_override:b,entry_point:e,id:f,location:g,responsible_id:a},scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometFRX.react").__setRef("CometFRX.entrypoint")};g["default"]=a}),98);
__d("cometMessengerFileUploadComposerPluginSupportedTypes",[],(function(a,b,c,d,e,f){"use strict";a=["photo","video","file"];b=a;f["default"]=b}),66);
__d("useCometMessengerFileUploadPaste",["react","react-compiler-runtime","useCometLexicalFileDragAndDrop"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(6),e=a.editor,f=a.handlePastedFiles;a=a.isMimeTypeAcceptable;var g;b[0]!==f?(g=function(a){a.length>0&&f(a)},b[0]=f,b[1]=g):g=b[1];g=g;var h;b[2]!==e||b[3]!==a||b[4]!==g?(h={editor:e,isMimeTypeAcceptable:a,onSubmit:g},b[2]=e,b[3]=a,b[4]=g,b[5]=h):h=b[5];c("useCometLexicalFileDragAndDrop")(h)}g["default"]=a}),98);
__d("CometMessengerHandlePastedFileComposerPlugin",["cometIsMimeTypeForMedia","cometMessengerFileUploadComposerPluginSupportedTypes","react-compiler-runtime","useCometMessengerFileUploadPaste"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a.kind!=="file")return!1;for(var b of c("cometMessengerFileUploadComposerPluginSupportedTypes"))switch(b){case"photo":if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type))return!0;break;case"video":if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type))return!0;break;case"file":if(d("cometIsMimeTypeForMedia").isMimeTypeForFile(a.type))return!0;break;default:b}return!1}function a(a){var b=d("react-compiler-runtime").c(3),e=a.editor;a=a.handlePastedFiles;var f;b[0]!==e||b[1]!==a?(f={editor:e,handlePastedFiles:a,isMimeTypeAcceptable:h},b[0]=e,b[1]=a,b[2]=f):f=b[2];c("useCometMessengerFileUploadPaste")(f);return null}g["default"]=a}),98);
__d("ExistingPollSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5498");b=d("FalcoLoggerInternal").create("existing_poll_submit_error",a);e=b;g["default"]=e}),98);
__d("ExistingPollSubmitSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5499");b=d("FalcoLoggerInternal").create("existing_poll_submit_success",a);e=b;g["default"]=e}),98);
__d("FRXEntryPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVITY_LOG:"activity_log",AGORA_GROUPS:"agora_groups",AGORA_RECENT_NEWS:"agora_recent_news",BLOCK_BUTTON:"block_button",BLOCK_COMPOSER:"block_composer",BUSINESS_NOTIFICATION_MESSAGE_REPORT_BUTTON:"business_notification_message_report_button",CHEVRON_BUTTON:"chevron_button",CHEVRON_TAGS:"chevron_tags",COLLEGES_LIVE_CHAT_REPORT_TO_FB:"colleges_live_chat_report_to_fb",COMMENT:"comment",CONTENT_OVERLAY:"content_overlay",CROWDSOURCING_REPORT:"crowdsourcing_report",DELETE_CONTENT_REPORT:"delete_content_report",DELETE_CONVERSATION_REPORT:"delete_conversation_report",DEVELOPER_FEEDBACK_BUTTON:"developer_feedback_button",EVENTS_REPORTING:"events_reporting",FEEDBACK_BUTTON:"feedback_button",FOX_CHEVRON_TAGS:"fox_chevron_tags",GEMSTONE_MEDIA:"gemstone_media",GEMSTONE_MESSAGING:"gemstone_messaging",GEMSTONE_PROFILE:"gemstone_profile",GROUP_MALL_RELATED_GROUPS_CHAINING:"group_mall_related_groups_chaining",GROUP_MALL_RHC:"group_mall_rhc",GROUPS_ADMIN_FEEDBACK:"groups_admin_feedback",GROUPS_DISCOVER:"groups_discover_page",GROUPS_DISCOVER_HIDE_BUTTON:"groups_discover_hide_button",GROUPS_JOIN_QUESTION:"groups_join_question",GROUPS_LEAVE:"groups_leave",GROUPS_LEAVE_BROWSE:"groups_leave_browse",GROUPS_LEAVE_SPECIAL:"groups_leave_special",GROUPS_PARTICIPATION_QUESTION:"groups_participation_question",GROUPS_PENDING_QUEUE:"groups_pending_queue",GROUPS_POLL:"groups_poll",GROUPS_REPORT:"groups_report",GROUPS_REPORT_LONG_PRESS_TO_ADMIN:"groups_report_long_press_to_admin",GROUPS_REPORT_TO_ADMIN:"groups_report_to_admin",GROUPS_RULE:"groups_rule",GROUPS_TAB_CHAT_ROW:"groups_tab_chat_row",GROUPS_TAB_DISCOVER_FIRST:"groups_tab_discover_first",GROUPS_TRANSPARENCY:"groups_transparency",HATE_CTA:"hate_cta",HELP_NAV_BUTTON:"help_nav_button",HIDE_AD_BUTTON:"hide_ad_button",HIDE_AD_XOUT_BUTTON:"hide_ad_xout_button",IN_PROFILE_MEDIA_SELECTOR:"in_profile_media_selector",INSTANT_GAMES_BOT_FEEDBACK_LINK:"instant_games_bot_feedback_link",LEAVE_CONVERSATION_REPORT:"leave_conversation_report",LOCAL_COMMUNITY_DEMOTE_CONTENT:"local_community_demote_content",LOCAL_COMMUNITY_MOD_HUB_DEMOTE:"local_community_mod_hub_demote",LOCAL_COMMUNITY_POST_REPORT_TO_MOD:"local_community_post_report_to_mod",LOCAL_LIVE_CHAT_REPORT_TO_FB:"local_live_chat_report_to_fb",MARK_AS_SOLD_BUTTON:"mark_as_sold_button",MARK_AS_SUSPICIOUS_BUTTON:"mark_as_suspicious_button",MARKETPLACE_SUBCOMPONENT_REPORT_BUTTON:"marketplace_subcomponent_report_button",MESSAGE_MEDIA_BUBBLE_REPORT:"message_media_bubble_report",MOBILE_GYSJ:"mobile_gysj",NOTE_REPORT_BUTTON:"note_report_button",NOTIFICATIONS_JEWEL:"notifications_jewel",PAGE_UNFOLLOW:"page_unfollow",PAGE_UNFOLLOW_CHEVRON:"page_unfollow_chevron",PAGE_UNLIKE:"page_unlike",PAGE_VERIFICATION_BADGE_OPTION:"page_verification_badge_option",PAGE_VERIFICATION_PAGE_OPTION:"page_verification_page_option",POLITICAL_AD_VERIFIED_VOICE:"political_ad_verified_voice",PROACTIVE_WARNING_BANNER:"proactive_warning_banner",PROACTIVE_WARNING_COMPOSER_BLOCK:"proactive_warning_composer_block",PROACTIVE_WARNING_POPOVER:"proactive_warning_popover",PROACTIVE_WARNING_STRAP:"proactive_warning_strap",PROFILE_REPORT_BUTTON:"profile_report_button",PROFILE_REPORT_FLOW:"profile_report_flow",PROFILE_SUBMIT_FEEDBACK:"profile_submit_feedback",QUICK_REPORT_ACTION:"quick_report_action",RELATED_SEARCHES:"related_searches",REPORT_AD_BUTTON:"report_ad_button",REPORT_AD_XOUT_BUTTON:"report_ad_xout_button",REPORT_BUTTON:"report_button",REPORT_BUTTON_DETAILED_FRX:"report_button_detailed_frx",REPORT_FROM_PREVIEW:"report_from_preview",REPORT_JOB_BUTTON:"report_job_button",REPORT_LONG_PRESS:"report_long_press",ROOMS_POST_CALL_HIGH_RATING:"rooms_post_call_high_rating",ROOMS_POST_CALL_LOW_RATING:"rooms_post_call_low_rating",ROOMS_POST_CALL_LOW_RATING_DETAILED:"rooms_post_call_low_rating_detailed",SCHOOL_COMMUNITY_TAGS:"school_community_tags",SEARCH_META_AI_PROMPT_SUGGESTION:"search_meta_ai_prompt_suggestion",SEARCH_TYPEAHEAD:"search_typeahead",SNACKBAR:"snackbar",STORY_ATTACHMENT_SHARE:"story_attachment_share",STRUCTURED_REPORT_BUTTON:"structured_report_button",THREADLIST_MENU_REPORT:"threadlist_menu_report",TOMBSTONE:"tombstone",TOOLBAR_REPORT_ACTION:"toolbar_report_action",UNKNOWN:"unknown",UNOWNED_PAGE_ACTION_MENU_REPORT_PAGE:"unowned_page_action_menu_report_page",UPSELL_AFTER_BLOCK_BOTTOM_SHEET:"upsell_after_block_bottom_sheet",USER_CONTROL_MENU:"user_control_menu",WORKPLACE_REPORT_AND_HIDE_BUTTON:"workplace_report_and_hide_button",WORKPLACE_REPORT_BUTTON:"workplace_report_button",WORKROOM_MEETING_REPORT_BUTTON:"workroom_meeting_report_button",WORKROOM_REPORT_BUTTON:"workroom_report_button",WORKROOM_USER_REPORT_BUTTON:"workroom_user_report_button",X_OUT:"x_out"});f["default"]=a}),66);
__d("GroupPollEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({START_NEW_POLL:"start_new_poll",SUBMIT_NEW_POLL:"submit_new_poll",NEW_POLL_SUBMIT_ERROR:"new_poll_submit_error",NEW_POLL_SUBMIT_SUCCESS:"new_poll_submit_success",OPEN_EXISTING_POLL:"open_existing_poll",CHANGE_VOTE:"change_vote",SHOW_VOTERS:"show_voters",SUBMIT_EXISTING_POLL:"submit_existing_poll",EXISTING_POLL_SUBMIT_ERROR:"existing_poll_submit_error",EXISTING_POLL_SUBMIT_SUCCESS:"existing_poll_submit_success"});c=a;f["default"]=c}),66);
__d("LSDeleteMessageStoredProcedure",["LSDeleteMessage","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSDeleteMessage"),e.threadKey,e.messageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticSetOrUnsetPinnedMessage",["LSIssueNewTask","LSShimThreadPinMessage.nop","LSShimThreadUnpinMessage.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.neq(a[1],void 0)?c.i64.eq(a[3],c.i64.cast([0,1]))||c.i64.eq(a[3],c.i64.cast([0,2]))?c.sequence([function(d){return c.nativeOperation(b("LSShimThreadPinMessage.nop"),a[0],a[2],a[1])},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("armadillo_thread_key",a[1]),d[2].set("offline_threading_id",a[0]),d[2].set("timestamp_ms",a[2]),d[2].set("sync_group",d[0]),d[3]=d[2].get("timestamp_ms"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),["e2ee_pin_msg","_",c.i64.to_string(d[3])].join(""),c.i64.cast([0,1010]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.sequence([function(d){return c.nativeOperation(b("LSShimThreadUnpinMessage.nop"),a[0],a[1])},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("armadillo_thread_key",a[1]),d[2].set("offline_threading_id",a[0]),d[2].set("timestamp_ms",a[2]),d[2].set("sync_group",d[0]),d[3]=d[2].get("timestamp_ms"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),["e2ee_unpin_msg","_",c.i64.to_string(d[3])].join(""),c.i64.cast([0,1011]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.resolve()},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxOptimisticSetOrUnsetPinnedMessageStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSOptimisticSetOrUnsetPinnedMessageStoredProcedure",["LSOptimisticSetOrUnsetPinnedMessage","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticSetOrUnsetPinnedMessage"),e.offlineThreadingId,e.threadKey,e.timestampMs,e.state);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticSetPinnedMessage",["LSIssueNewTaskWithExtraOperations","LSSetPinnedMessage"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.i64.eq(a[3],c.i64.cast([0,2]))?c.storedProcedure(b("LSSetPinnedMessage"),a[0],a[1],a[2],c.i64.cast([0,1])):c.storedProcedure(b("LSSetPinnedMessage"),a[0],a[1],a[2],a[3])},function(e){return c.i64.eq(a[3],c.i64.cast([0,2]))?(d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("timestamp_ms",a[2]),d[0].set("pinned_location",c.i64.cast([0,1])),d[1]=d[0].get("thread_key"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),["pin_msg_v2","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,430]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.i64.eq(a[3],c.i64.cast([0,1]))?(d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("timestamp_ms",a[2]),d[1]=d[0].get("thread_key"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),["pin_msg_v2","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,430]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.i64.eq(a[3],c.i64.cast([0,0]))?(d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("timestamp_ms",a[2]),d[1]=d[0].get("thread_key"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),["unpin_msg_v2","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,431]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.resolve(0)}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticSetPinnedMessageStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSOptimisticSetPinnedMessageStoredProcedure",["LSOptimisticSetPinnedMessage","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticSetPinnedMessage"),e.threadKey,e.messageId,e.pinnedTimestampMs,e.state);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSPinnedMessageState",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_PINNED:0,PINNED:1,PINNED_AND_FEATURED:2});f["default"]=a}),66);
__d("LSReportMessageInCommunityChannel",["LSIssueNewError","LSIssueNewTaskAndGetTaskID","LSLocalize"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[7]=a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[8]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[7],d[8],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("message_id",a[1]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[7]=c.i64.of_float(Date.now()),d[3]=c.i64.add(d[7],c.i64.cast([0,0]))):d[3]=c.i64.cast([0,0]),d[4]=d[2].get("thread_key"),d[5]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[4]),c.i64.cast([0,374]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[3],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxReportMessageInCommunityChannelStoredProcedure";a.__tables__=["user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSReportMessageInCommunityChannelStoredProcedure",["LSReportMessageInCommunityChannel","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSReportMessageInCommunityChannel"),e.threadKey,e.messageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("Ls1lcFeatureOpenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("153");b=d("FalcoLoggerInternal").create("ls_1lc_feature_open",a);e=b;g["default"]=e}),98);
__d("useTriggerEditAction",["MAWEditMessageContext.react","MWPActor.react","MWPReplyContext.react","react","react-compiler-runtime","useLogMAWEditMessage"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(a,b,e){var f=d("react-compiler-runtime").c(11),g=c("useLogMAWEditMessage")(),h=i(d("MAWEditMessageContext.react").Context),j=h.setEditMessageData;h=i(d("MWPReplyContext.react").MWPReplyContext);var k=h.clearReply,l=h.reply,m=d("MWPActor.react").useActor();f[0]!==m||f[1]!==k||f[2]!==g||f[3]!==a.messageId||f[4]!==a.threadKey||f[5]!==a.timestampMs||f[6]!==e||f[7]!==l||f[8]!==j||f[9]!==b?(h=function(){l!=null&&k(a.threadKey,!0),j({messageId:a.messageId,threadKey:a.threadKey,threadType:b,timestampMs:a.timestampMs}),g(b,a.threadKey,a.messageId,m,"EDIT_MESSAGE_TAP"),e==null?void 0:e()},f[0]=m,f[1]=k,f[2]=g,f[3]=a.messageId,f[4]=a.threadKey,f[5]=a.timestampMs,f[6]=e,f[7]=l,f[8]=j,f[9]=b,f[10]=h):h=f[10];return h}g["default"]=a}),98);
__d("MAWEditMenuItem.react",["fbt","MWXMenuItem.react","react","react-compiler-runtime","useTriggerEditAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.disableReason,f=a.message,g=a.onEditClickCallback;a=a.threadType;var i=g===void 0?null:g,k=c("useTriggerEditAction")(f,a);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Ch\u1ec9nh s\u1eeda"),b[0]=g):g=b[0];f=g;a=e!==void 0;b[1]!==i||b[2]!==k?(g=function(){k(),i&&i()},b[1]=i,b[2]=k,b[3]=g):g=b[3];b[4]!==e||b[5]!==a||b[6]!==g?(f=j.jsx(c("MWXMenuItem.react"),{"aria-label":f,disabled:a,onClick:g,primaryText:f,secondaryText:e,testid:void 0}),b[4]=e,b[5]=a,b[6]=g,b[7]=f):f=b[7];return f}g["default"]=a}),226);
__d("MAWMessageIntegrityChecker",["FBLogger","MAWMessagesCompare","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(a.externalId===b.externalId)return 0;if(a.sortOrderMs>b.sortOrderMs)return 1;return a.sortOrderMs<b.sortOrderMs?-1:-1}function i(a,b){var c=b.reduce(function(a,b){b.externalId!=null&&a.set(b.externalId,b.sortOrderMs);return a},new Map());return a.map(function(a){var b;return babelHelpers.extends({},a,{sortOrderMs:(b=a.externalId!=null?c.get(a.externalId):null)!=null?b:a.sortOrderMs})}).sort(d("MAWMessagesCompare").getSortComparisonFunctionForDirection("desc"))}function j(a,b,c){a=new Set(a.map(function(a){return a.externalId}).filter(Boolean));return b.toSorted(d("MAWMessagesCompare").makeCompareMessageMetadataForDescOrderFn(a)).slice(0,c)}function a(a,b,d,e,f){var g=new Set(a.map(function(a){return a.externalId})),l=new Set(b.map(function(a){return a.externalId})),m=k(g,l);l=k(l,g);g=i(a,b);a=j(g,b,d);b=0;var n=0,o=0,p=0,q=[],r=null;while(b<g.length&&n<a.length){var s=g[b],t=a[n];if(r!=null&&h(t,r)===0){n+=1;r=t;c("FBLogger")("messenger_web_missing_messages").mustfix("Detected duplicate messages in reference. Target source: %s, reference source: %s",e,f);continue}var u=h(s,t);u===0?(b+=1,n+=1,r=t,q.push([s,{result:"consistent"}])):u<0?(n+=1,r=t,o+=1,q.push([t,{result:"missing_in_target"}])):(b+=1,p+=1,q.push([s,{result:"missing_in_reference"}]))}while(b<g.length){u=g[b];b+=1;a.length<d?(p+=1,q.push([u,{result:"missing_in_reference"}])):q.push([u,{result:"skipped_in_target"}])}while(n<a.length){t=a[n];n+=1;g.length<d?(o+=1,q.push([t,{result:"missing_in_target"}])):q.push([t,{result:"skipped_in_reference"}])}if(o===0&&p===0)return{detailedResults:q,result:"consistent",setDifferenceInReference:l,setDifferenceInTarget:m};else if(o>0&&p===0)return{detailedResults:q,numOfMissingMessages:o,result:"missing_in_target",setDifferenceInReference:l,setDifferenceInTarget:m};else if(o===0&&p>0)return{detailedResults:q,numOfMissingMessages:p,result:"missing_in_reference",setDifferenceInReference:l,setDifferenceInTarget:m};else return{detailedResults:q,numOfMissingMessages:p+o,result:"missing_in_both",setDifferenceInReference:l,setDifferenceInTarget:m}}async function b(a,b,d){a=d.filter(function(a){a[0];a=a[1];return a.result==="missing_in_target"}).map(function(a){var b=a[0];a[1];return b.externalId});var e={admin:!1,editMsgHistory:!1,media:!1,polls:!1,reactions:!1,receiverFetch:!1,xma:!1},f=await b.fetchMessagesByExternalId(a,e),g=new Set(f.map(function(a){return a.externalId}));return Promise.all(d.map(async function(a){var b=a[0];a=a[1];if(!g.has(b.externalId))return[b,a];a=f.find(function(a){return a.externalId===b.externalId});if(!a){c("FBLogger")("messenger_web_missing_messages").mustfix("Failed to find msg with external id: %s in MAW",b.externalId);return[b,{result:"missing_in_target_invalid_sortOrder"}]}var d={sortOrderSkewMs:a.sortOrderMs-b.sortOrderMs,sortOrderSkewNumberOfMsg:0},e={result:"missing_in_target_invalid_sortOrder",sortOrderSkewMs:0};d.sortOrderSkewNumberOfMsg!=null&&(e=babelHelpers.extends({},e,{sortOrderSkewNumberOfMsg:d.sortOrderSkewNumberOfMsg}));return[babelHelpers.extends({},b,{msgType:a.msgType}),e]}))}async function e(a,b){var c=b.filter(function(a){a[0];a=a[1];return a.result==="missing_in_target"}).map(function(a){var b=a[0];a[1];return b.externalId});if(c.length===0)return b;c=c.map(function(b){return d("ReQL").fromTableAscending(a.tables.messages.index("optimistic")).getKeyRange(b)});var e=c.length===1;c=c.length>1?d("ReQL").union.apply(void 0,c):c[0];var f=await d("ReQL").toArrayAsync(c);return b.map(function(a){var b=a[0];a=a[1];var c=f.find(function(a){return a.offlineThreadingId===b.externalId});if(c!=null)return[b,{result:"missing_in_target_exists_in_lsdb",transportKey:c.transportKey,wouldHaveThrownS518614:e}];a.wouldHaveThrownS518614=e;return[b,a]})}function k(a,b){var c=0;for(a of a)b.has(a)||(c+=1);return c}g.checkIntegrityforMessageList=a;g.checkMsgsExistenceInMAWAndDecomposeTargetConsistencyResult=b;g.checkMsgsExistenceInLSDB=e}),98);
__d("MAWMessageIntegrityMissingInTargetCategory",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.hasEBFetchFailed,c=a.mawVsEB;a=a.uiVsEB;var d=i(a);a=c.detailedResults.filter(function(a){var b=a[0];a[1];return d.has(b.externalId)});return a.map(function(a){var c=a[0];a=a[1];a=h(c.externalId,a,b);return a==null?null:[c,a]}).filter(Boolean)}function h(a,b,d){switch(b.result){case"consistent":return"client_inconsistency";case"missing_in_target":return d?"eb_restore_timeout":"message_not_persisted_after_eb_restore";case"missing_in_target_invalid_sortOrder":return b.sortOrderSkewMs==null||b.sortOrderSkewMs===0?"message_out_of_order_same_timestamp":"message_out_of_order_different_timestamp";case"skipped_in_target":return"client_inconsistency_skipped";case"skipped_in_reference":return"unknown_skipped";case"missing_in_reference":case"missing_in_target_exists_in_lsdb":c("FBLogger")("messenger_web_missing_messages").mustfix("Unexpected consistency result %s for message with externalId %s when calculating missing in target category",b.result,a);return null;default:b.result;return null}}function i(a){return a.detailedResults.reduce(function(a,b){var c=b[0];b=b[1];b.result==="missing_in_target"&&a.add(c.externalId);return a},new Set())}g.calculateMissingInTargetCategory=a}),98);
__d("MAWMessageIntegrityCompareMessagesData",["I64","MAWMessageIntegrityChecker","MAWMessageIntegrityMissingInTargetCategory","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to get detailed results for UI vs MAW comparison: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Missing message detected for ",", result: ",", num of messages missing: ",""]);j=function(){return a};return a}var k=d("WATagsLogger").TAGS(["MissingMessages"]);async function a(a,b,c,d,e,f){var g=e.S518614_messagesBacktest,h=g.backendMessages,i=g.ebMessages,j=g.mpsMessages;g=g.uiMessages;var k=e.S518614_pageSizeBacktest,m=e.messages,n=m.backendMessages,o=m.ebMessages,p=m.mpsMessages;m=m.uiMessages;e=e.pageSize;n=await l(a,b,c,d,f,n,o,p,m,e);o=n.mawVsEB;p=n.missingInTargetCategory;m=n.mpsVsEB;var q=n.mpsVsMaw,r=n.uiVsEB;n=n.uiVsMaw;a=await l(a,b,c,d,f,h,i,j,g,k);b=a.mawVsEB;c=a.mpsVsEB;d=a.mpsVsMaw;f=a.uiVsEB;h=a.uiVsMaw;i=a.wouldHaveThrownS518614;return{S518614_mawVsEB:b,S518614_mpsVsEB:c,S518614_mpsVsMaw:d,S518614_pageSize:k,S518614_uiVsEB:f,S518614_uiVsMaw:h,S518614_wouldHaveThrown:i,mawVsEB:o,missingInTargetCategory:p,mpsVsEB:m,mpsVsMaw:q,pageSize:e,uiVsEB:r,uiVsMaw:n}}async function l(a,b,c,e,f,g,l,n,o,p){var q=d("MAWMessageIntegrityChecker").checkIntegrityforMessageList(o,g,p,"ui","maw"),r=d("MAWMessageIntegrityChecker").checkIntegrityforMessageList(o,l,p,"ui","eb"),s=d("MAWMessageIntegrityChecker").checkIntegrityforMessageList(g,l,p,"maw","eb");g=n?d("MAWMessageIntegrityChecker").checkIntegrityforMessageList(n,g,p,"mps","maw"):null;n=n?d("MAWMessageIntegrityChecker").checkIntegrityforMessageList(n,l,p,"mps","eb"):null;r.result!=="consistent"&&k.WARN(j(),(h||(h=d("I64"))).to_float(e),r.result,r.numOfMissingMessages);(r.result==="missing_in_target"||r.result==="missing_in_both")&&(r.detailedResults=m(r.detailedResults,o));(s.result==="missing_in_target"||s.result==="missing_in_both")&&(s.detailedResults=await d("MAWMessageIntegrityChecker").checkMsgsExistenceInMAWAndDecomposeTargetConsistencyResult(c,b,s.detailedResults));var t=!1;if(q.result==="missing_in_target"||q.result==="missing_in_both")try{q.detailedResults=await d("MAWMessageIntegrityChecker").checkMsgsExistenceInLSDB(a,q.detailedResults),q.detailedResults.map(function(a){a[0];a=a[1];t||(t=a.wouldHaveThrownS518614===!0)})}catch(a){k.ERROR(i(),a)}l=d("MAWMessageIntegrityMissingInTargetCategory").calculateMissingInTargetCategory({hasEBFetchFailed:f,mawVsEB:s,uiVsEB:r});return{mawVsEB:s,missingInTargetCategory:l,mpsVsEB:n,mpsVsMaw:g,pageSize:p,uiVsEB:r,uiVsMaw:q,wouldHaveThrownS518614:t}}function m(a,b){var c=new Set(b.map(function(a){return a.externalId}));return a.map(function(a){var b=a[0];a=a[1];return a.result==="missing_in_target"&&c.has(b.externalId)?[b,babelHelpers.extends({},a,{existingInUISamePage:!0})]:[b,a]})}g.compareMessagesData=a}),98);
__d("MAWMpsMessageIntegrityFetch",["MAWBridgeSendAndReceive","MAWCurrentUser","MAWEBSwitch","MAWMessagesDirection","MpsOverBridge","MpsTypes","WAPromiseDelays"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,e,f,g){c("MAWEBSwitch").isEnabled()===!0&&await Promise.race([d("WAPromiseDelays").delayMs(1e4),d("MAWBridgeSendAndReceive").sendAndReceive("backend","waitForEBLSEbEnabled")]);b=await d("MpsOverBridge").mps().loadMessages({config:{shouldFetchSupplementals:!1,shouldIgnoreLocalOnly:!0,strategy:"full-fetch"},debug:{purpose:"integrity-check"},direction:d("MAWMessagesDirection").translateMawDirectionToMwpDirection(b),from:[e,f!=null?d("MpsTypes").toMessageId(f):null],numMessages:g*2,threadId:d("MpsTypes").toThreadId(a)});return b.success===!1?null:b.value.messages.map(function(a){return{externalId:a.toplevelProtobuf.messageId,isOutgoing:a.toplevelProtobuf.senderId!==d("MAWCurrentUser").getID(),msgType:"",sortOrderMs:a.toplevelProtobuf.timestampMs}})}g.mpsMessageIntegrityFetch=a}),98);
__d("MAWMessageIntegrityFetchMessagesData",["I64","MAWBridgeSendAndReceive","MAWDbMsg","MAWEBDeanonFetch","MAWMessagesCompare","MAWMpsGating","MAWMpsMessageIntegrityFetch","WAResultOrError","WAStanzaUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b,c,e,f,g){var m=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","identifyXMAWithAssociatedTextByExternalId",{externalIds:g.map(function(a){return d("WAStanzaUtils").toStanzaId(a.offlineThreadingId)})});function n(a){return!m.includes(a.externalId)}var o=g.map(k);b=await Promise.all([l(g),i(a,b,c,f,e),j(c,f,e),d("MAWMpsGating").isMpsEnabled()?d("MAWMpsMessageIntegrityFetch").mpsMessageIntegrityFetch(c,"before",(f==null?void 0:f.primarySortKey)!=null?(h||(h=d("I64"))).to_float(f==null?void 0:f.primarySortKey):Date.now(),(a=f==null?void 0:f.offlineThreadingId)!=null?a:null,e):null]);c=b[0];f=b[1];a=b[2];b=b[3];var p=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","identifyCollapsedMessagesByExternalId",{externalIds:a.map(function(a){return d("WAStanzaUtils").toStanzaId(a.externalId)})});function q(a){return!p.includes(a.externalId)}var r=c.filter(n).filter(q),s=f.filter(n).filter(q),t=a.filter(n).filter(q),u=b==null?null:b.filter(n).filter(q);o=o.filter(n).filter(q);n=g.length-o.length;q=e-n;if(t.length===0)return d("WAResultOrError").makeError("EB result not available");g=d("MAWMessagesCompare").getSortComparisonFunctionForDirection("desc");o=[].concat(s).sort(g).slice(0,q);n=[].concat(t).sort(g).slice(0,q);s=r.sort(g).slice(0,q);t=u!=null?[].concat(u).sort(g).slice(0,q):null;r=e;u=[].concat(f).sort(g).slice(0,r);e=[].concat(a).sort(g).slice(0,r);f=[].concat(c).sort(g).slice(0,r);a=b!=null?[].concat(b).sort(g).slice(0,r):null;return d("WAResultOrError").makeResult({S518614_messagesBacktest:{backendMessages:u,ebMessages:e,mpsMessages:a,uiMessages:f},S518614_pageSizeBacktest:r,messages:{backendMessages:o,ebMessages:n,mpsMessages:t,uiMessages:s},pageSize:q})}async function i(a,b,c,d,e){b=await b.requestMessages(a,c,d!=null?d.primarySortKey:null,d==null?void 0:d.messageId,"before",e,{admin:!1,editMsgHistory:!1,media:!1,polls:!1,reactions:!1,receiverFetch:!1,xma:!1},"integrity");return b.msgs}async function j(a,b,c){var e=b==null?null:d("MAWDbMsg").toMsgId(b.messageId);e=await (e==null?Promise.resolve(null):d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:e}));var f=(e=e==null?void 0:e.externalId)!=null?e:b==null?void 0:b.offlineThreadingId;e=(b==null?void 0:b.primarySortKey)==null?d("WATimeUtils").millisTime():(h||(h=d("I64"))).to_float(b==null?void 0:b.primarySortKey);b=await d("MAWEBDeanonFetch").fetchMessagesMetadataFromEBDeanon({chatJid:a,count:c*2,direction:"before",includeReferenceTimestamp:!0,referenceExternalId:f,referenceTimestampMs:e});if(b.success===!1)return[];a=b.value.sort(d("MAWMessagesCompare").getSortComparisonFunctionForDirection("desc"));c=a.findIndex(function(a){return a.externalId===f});return a.slice(c+1)}function k(a){return{externalId:a.offlineThreadingId,msgType:(h||(h=d("I64"))).to_string(a.displayedContentTypes),sortOrderMs:h.to_float(a.primarySortKey)}}function l(a){var b=function(a){var b=d("MAWDbMsg").toMsgId(a.messageId);return b==null?Promise.resolve(k(a)):d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:b}).then(function(b){return babelHelpers.extends({},a,{offlineThreadingId:(b=b==null?void 0:b.externalId)!=null?b:a.offlineThreadingId})}).then(k)};return Promise.all(a.map(b))}g.fetchMessagesDataForComparison=a}),98);
__d("MAWSecureDataSource",[],(function(a,b,c,d,e,f){"use strict";a=10;f.DEFAULT_NUM_MESSAGES=a}),66);
__d("MAWSecureLocalDBDataSource",["I64","MAWBridgeSendAndReceive","MAWDataSourceLogger","MAWDbMsg","MAWMessagesDirection","MAWMessagesPaginationUtils","MAWMiActOnActThreadReady","MAWPutMessagesToDB","MAWSecureDataSource","MAWSecureLocalDBFetch","MLV2DataSourceLogger","ReQL","WAStanzaUtils","WATagsLogger","err","isEbEnabledWithIGDEligibilityCheck","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Fetching "," messages by external id, which is not optimal.\n      Consider migrating 'loadMsgsByExternalId' backend request to a batch version "]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to fetch messages: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["useFetchSecureMessages: threadJid: "," minMsgSortOrderTsResponse ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Fetch more: ",""]);l=function(){return a};return a}var m=c("requireDeferred")("MAWEBFetch").__setRef("MAWSecureLocalDBDataSource"),n=d("WATagsLogger").TAGS(["MAWSecureLocalDBDataSource"]);function o(a){return a.msgs.map(function(a){return{externalId:a.externalId,isOptimistic:a.ack<1,isOutgoing:a.isAuthorMe,msgType:a.type_,sortOrderMs:a.sortOrderMs}})}a=function(){function a(){}var b=a.prototype;b.$1=async function(a,b,e,g,i,j,o,p,q){if(i==="after")return;i;n.LOG(l(),b);d("MAWDataSourceLogger").logLoadMoreMsgsThreadWaiting(o,"before",b);i=await d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,b,"MAWSecureLocalDBDataSource");i=i.chatJid;d("MAWDataSourceLogger").logLoadMoreMsgsThreadReadyFetchMsgs(o);d("MAWDataSourceLogger").logLoadMessagesFromLocalDBStart(o);var r=g.minMessageId,s=await d("MAWMessagesPaginationUtils").getExternalIdByMsgId(r);p=await c("MAWSecureLocalDBFetch")({actionType:p,chatJid:i,config:{admin:!0,editMsgHistory:!0,media:!0,polls:!0,reactions:!0,receiverFetch:!0,xma:!0},count:j,direction:"before",offsetMsg:{externalId:s,includeOriginalMsg:!1,messageId:r},timestampMs:e});if(p.success===!1){throw(s=p.payload)!=null?s:c("err")(p.error)}var t=p.value;d("MAWDataSourceLogger").logLoadMessagesFromLocalDBEnd(o);d("MAWDataSourceLogger").logInsertMessageResponseToLSDBStart(o);d("MAWMessagesPaginationUtils").populateExternalIdCache(t.msgs);var u=t.msgs.length>0?t.msgs[t.msgs.length-1].msgId:g.minMessageId;await a.runInTransaction(async function(b){var c;await d("MAWPutMessagesToDB").insertMessageResponseToDBInExistingTransaction(a,b,t,q,o);c=await (c=b.messages_ranges_v2__generated).get.apply(c,[g.threadKey,g.minTimestampMs,g.minMessageId]);if(c==null)return;var e=t.hasMoreBefore;t.hasMoreBefore===!1&&await d("isEbEnabledWithIGDEligibilityCheck").isEbEnabledWithIGDEligibilityCheck(a)&&(e=!0);await b.messages_ranges_v2__generated.upsert([c.threadKey,c.minTimestampMs,c.minMessageId],{hasMoreAfter:!1,hasMoreBefore:e,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:c.maxMessageId,maxTimestampMs:c.maxTimestampMs,minMessageId:u,minTimestampMs:(h||(h=d("I64"))).zero,threadKey:g.threadKey})},"readwrite","ui",void 0,f.id+":146");d("MAWDataSourceLogger").logInsertMessageResponseToLSDBEnd(o);d("MAWDataSourceLogger").logLoadMoreMsgsFetched(o,t.hasMoreBefore);if(t.hasMoreBefore){d("MAWDataSourceLogger").logLoadMoreMsgsSuccess(o);return}r=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{chatJid:i,mayBeAdminMsgId:d("MAWDbMsg").toMsgId(g.minMessageId)});d("WATagsLogger").TAGS(["labyrinth_web","useFetchSecureMessages"]).LOG(k(),i,r.minMsgTimestampMs);d("MAWDataSourceLogger").logLoadMoreMsgsRangeQuery(o,r.minMsgTimestampMs);e=await m.load();s=await e({chatJid:i,count:j,db:a,direction:"before",timestampMs:(h||(h=d("I64"))).of_float(r.minMsgTimestampMs)});s.success&&s.value.hasMoreBefore===!1&&await a.runInTransaction(async function(c){var e=g.minTimestampMs,f=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(b).bounds({lte:[e]}).filter(function(a){var b=a.maxTimestampMs;a=a.minTimestampMs;return(h||(h=d("I64"))).ge(e,a)&&(h||(h=d("I64"))).le(e,b)}));if(f==null)return;await c.messages_ranges_v2__generated.upsert([f.threadKey,f.minTimestampMs,f.minMessageId],babelHelpers.extends({},f,{hasMoreBefore:!1,isLoadingBefore:!1}))},"readwrite","ui",void 0,f.id+":231");d("MAWDataSourceLogger").logLoadMoreMsgsSuccess(o)};b.requestMessages=async function(a,b,e,f,g,h,i,j){a=await d("MAWMessagesPaginationUtils").getExternalIdByMsgId(f);b=await c("MAWSecureLocalDBFetch")({actionType:j,chatJid:b,config:i,count:(j=h)!=null?j:d("MAWSecureDataSource").DEFAULT_NUM_MESSAGES,direction:g,offsetMsg:f==null?null:{externalId:a,includeOriginalMsg:!1,messageId:f},timestampMs:e});if(b.success===!1){throw(i=b.payload)!=null?i:c("err")(b.error)}h=b.value;d("MAWMessagesPaginationUtils").populateExternalIdCache(h.msgs);j=h.msgs.map(function(a){return{externalId:a.externalId,isOptimistic:a.ack<1,isOutgoing:a.isAuthorMe,msgType:a.type_,sortOrderMs:a.sortOrderMs}});return{hasMoreAfter:h.hasMoreAfter,hasMoreBefore:h.hasMoreBefore,msgs:j}};b.fetchSecureMessagesProtocol=function(a,b,c,e,f,g,h,i,k){h===void 0&&(h=d("MAWSecureDataSource").DEFAULT_NUM_MESSAGES);c=d("MAWDataSourceLogger").logLoadMoreMsgsStart(c);return this.$1(a,b,e,f,g,h,c,i,k).catch(function(a){var c;n.ERROR(j(),a);(c=d("MLV2DataSourceLogger").getMLV2LoggerForThread(b,d("MAWMessagesDirection").translateMawDirectionToMwpDirection(g)))==null?void 0:c.markQPLFailure(a)})};b.fetchMessagesByExternalId=function(a,b){a.length>2&&n.WARN(i(),a.length);a=a.map(function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMsgsByExternalId",{config:b,externalId:d("WAStanzaUtils").toStanzaId(a)})});return Promise.all(a).then(function(a){return a.map(function(a){return o(a)}).flat()})};return a}();g.default=a}),98);
__d("MAWMessageIntegrityFetchAndCompareData",["MAWMessageIntegrityCompareMessagesData","MAWMessageIntegrityFetchMessagesData","MAWMiActOnActThreadReady","MAWSecureLocalDBDataSource","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("MAWSecureLocalDBDataSource"))();async function a(a){var b=a.db,c=a.hasEbFetchFailed,e=a.lastItemFromPreviousPage,f=a.localMessages,g=a.pageSize;a=a.threadKey;var i=await d("MAWMiActOnActThreadReady").waitForACTThreadReady(b.tables,a,"fetchAndCompareMessagesData");i=i.chatJid;g=await d("MAWMessageIntegrityFetchMessagesData").fetchMessagesDataForComparison(b,h,i,g,e,f);if(g.success===!1)return g;e=await d("MAWMessageIntegrityCompareMessagesData").compareMessagesData(b,h,i,a,g.value,c);return d("WAResultOrError").makeResult(e)}g.fetchAndCompareMessagesData=a}),98);
__d("MAWMessagesIntegrityEphemeralSettings",["I64","MAWGetEphemeralSettings","MAWMiActOnActThreadReady","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b,c){a=await d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,b,"getIsEphemeralMessagesEnabledForPage");a=a.chatJid;a=await d("MAWGetEphemeralSettings").getEphemeralSetting(a,b);if(a==null||a.ephemeralLastUpdatedOrSetTimestamp===d("WATimeUtils").DEFAULT_UNIXTIME)return"disabled";return d("WATimeUtils").castUnixTimeToMillisTime(a.ephemeralLastUpdatedOrSetTimestamp)<(h||(h=d("I64"))).to_float(c)?a.ephemeralExpirationInSec>0?"enabled":"disabled":a.ephemeralExpirationInSec>0?"maybeDisabled":"maybeEnabled"}g.getEphemeralMessagesStatusForPage=a}),98);
__d("MAWMessageIntegrityCheck",["CometDebounce","DateConsts","EbFetchTimeoutMsForMLv2","I64","MAWMediaGalleryM2Utils","MAWMessageIntegrityCheckFlytrapResultCache","MAWMessageIntegrityEBFetchStatus","MAWMessageIntegrityFetchAndCompareData","MAWMessageIntegrityTruncateStatus","MAWMessagesIntegrityEphemeralSettings","MAWMpsGating","WATagsLogger","gkx","isEbEnabledWithIGDEligibilityCheck","logMessengerWebFalcoEvent","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check Truncate state - threadKey: ",", state: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check Flytrap result - threadKey: ",", missingInTargetCategory: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check result - threadKey: ",", lastItem: ",", MPS (target) vs EB (reference): ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check result - threadKey: ",", lastItem: ",", MPS (target) vs MAW (reference): ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check result - threadKey: ",", lastItem: ",", result against EB data: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check result - threadKey: ",", lastItem: ",", result against backend data: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check skipped for threadKey: ",", lastItem: ",", reason: ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check skipped for threadKey: ",", lastItem: ",", reason: check was scheduled more than 2 minutes ago"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["run Message Integrity Check - threadKey: ",", lastItem: ",", pageSize: ",""]);q=function(){return a};return a}var r="11",s=1e3*60*2,t=d("WATagsLogger").TAGS(["MissingMessages"]),u=c("CometDebounce")(c("logMessengerWebFalcoEvent"));async function a(a,b,e,f,g,x,z,A,B,C){t.LOG(q(),(h||(h=d("I64"))).to_float(b),x==null?"null":(h||(h=d("I64"))).to_float(x.primarySortKey),g);if(Date.now()-B>s){t.LOG(p(),(h||(h=d("I64"))).to_float(b),x==null?"null":(h||(h=d("I64"))).to_float(x.primarySortKey));return}B=c("gkx")("1626");var D=await d("isEbEnabledWithIGDEligibilityCheck").isEbEnabledWithIGDEligibilityCheck(a),E=d("MAWMessageIntegrityEBFetchStatus").hasEBFailure(b),F=d("MAWMessageIntegrityTruncateStatus").getThreadThuncateState(b);g=await d("MAWMessageIntegrityFetchAndCompareData").fetchAndCompareMessagesData({db:a,hasEbFetchFailed:E,lastItemFromPreviousPage:x,localMessages:z,pageSize:g,threadKey:b});if(g.success===!1){t.LOG(o(),(h||(h=d("I64"))).to_float(b),x==null?"null":(h||(h=d("I64"))).to_float(x.primarySortKey),g.error);return}g=g.value;c("gkx")("4852")&&g.uiVsEB.detailedResults.some(function(a){a[0];a=a[1];return a==="missing_in_target"})&&C();C=d("MAWMessageIntegrityCheckFlytrapResultCache").generateMessageIntegrityCheckPageKey(b,z);d("MAWMessageIntegrityCheckFlytrapResultCache").cacheMessageIntegrityCheckResult(C,g.missingInTargetCategory);t.LOG(n(),h.to_float(b),x==null?"null":(h||(h=d("I64"))).to_float(x.primarySortKey),JSON.stringify(g.uiVsMaw));t.LOG(m(),h.to_float(b),x==null?"null":(h||(h=d("I64"))).to_float(x.primarySortKey),JSON.stringify(g.uiVsEB));t.LOG(l(),h.to_float(b),x==null?"null":(h||(h=d("I64"))).to_float(x.primarySortKey),JSON.stringify(g.mpsVsMaw));t.LOG(k(),h.to_float(b),x==null?"null":(h||(h=d("I64"))).to_float(x.primarySortKey),JSON.stringify(g.mpsVsEB));t.LOG(j(),h.to_float(b),JSON.stringify(g.missingInTargetCategory));t.LOG(i(),h.to_float(b),JSON.stringify(F));C=w(g.mawVsEB);var G=w(g.uiVsEB),H=w(g.uiVsMaw),I=g.mpsVsMaw!=null?w(g.mpsVsMaw):{},J=g.mpsVsEB!=null?w(g.mpsVsEB):{},K=w(g.S518614_mawVsEB),L=w(g.S518614_uiVsEB),M=w(g.S518614_uiVsMaw),N=g.S518614_mpsVsMaw!=null?w(g.S518614_mpsVsMaw):{},O=g.S518614_mpsVsEB!=null?w(g.S518614_mpsVsEB):{};z=y(z);a=await d("MAWMessagesIntegrityEphemeralSettings").getEphemeralMessagesStatusForPage(a,b,z);u({threadKey:b,threadType:e},"message_integrity_check",f,{MAW_vs_EB_detailedResults:C.detailedResults,MAW_vs_EB_numOfMissingInReference:C.numOfMissingInReference,MAW_vs_EB_numOfMissingInTarget:C.numOfMissingInTarget,MAW_vs_EB_numOfMissingInTargetInvalidSortOrder:C.numOfMissingInTargetInvalidSortOrder,MAW_vs_EB_setNumOfMissingInReference:C.setDifferenceInReference,MAW_vs_EB_setNumOfMissingInTarget:C.setDifferenceInTarget,MPS_vs_EB_detailedResults:(b=J.detailedResults)!=null?b:"",MPS_vs_EB_numOfMissingInReference:(e=J.numOfMissingInReference)!=null?e:"",MPS_vs_EB_numOfMissingInTarget:(f=J.numOfMissingInTarget)!=null?f:"",MPS_vs_MAW_detailedResults:(C=I.detailedResults)!=null?C:"",MPS_vs_MAW_numOfMissingInReference:(b=I.numOfMissingInReference)!=null?b:"",MPS_vs_MAW_numOfMissingInTarget:(e=I.numOfMissingInTarget)!=null?e:"",S518614_MAW_vs_EB_detailedResults:(J=K.detailedResults)!=null?J:"",S518614_MPS_vs_EB_detailedResults:(f=O.detailedResults)!=null?f:"",S518614_MPS_vs_MAW_detailedResults:(C=N.detailedResults)!=null?C:"",S518614_pageSize:g.S518614_pageSize.toString(),S518614_UI_vs_EB_detailedResults:(b=L.detailedResults)!=null?b:"",S518614_UI_vs_MAW_detailedResults:(I=M.detailedResults)!=null?I:"",S518614_wouldHaveThrown:v(g.S518614_wouldHaveThrown),UI_vs_EB_detailedResults:G.detailedResults,UI_vs_EB_numOfMissingInReference:G.numOfMissingInReference,UI_vs_EB_numOfMissingInTarget:G.numOfMissingInTarget,UI_vs_EB_setNumOfMissingInReference:G.setDifferenceInReference,UI_vs_EB_setNumOfMissingInTarget:G.setDifferenceInTarget,UI_vs_MAW_detailedResults:H.detailedResults,UI_vs_MAW_numOfMissingInReference:H.numOfMissingInReference,UI_vs_MAW_numOfMissingInTarget:H.numOfMissingInTarget,UI_vs_MAW_setNumOfMissingInReference:H.setDifferenceInReference,UI_vs_MAW_setNumOfMissingInTarget:H.setDifferenceInTarget,ebTimeoutSec:(c("EbFetchTimeoutMsForMLv2")()/d("DateConsts").MS_PER_SEC).toString(),endRangeTimestampMs:h.to_string(z),ephemeralMessagesStatus:a+"",hasAdditionalData:v(B),hasEBFetchFailed:v(E),isDogfooding:v(c("gkx")("2972")),isEbEnabled:v(D),isEbGraphQL:D?"false":v(c("gkx")("7083")),isEBPagePopulationSkipHeuristicEnabled:v((e=c("qex")._("4482"))!=null?e:!1),isEBSkipHeuristicEnabled:v((K=c("qex")._("4483"))!=null?K:!1),isJidOptimisationInRestoreEnabled:v(c("gkx")("3137")),isMAWRangeFixEnabled:v(c("gkx")("1042")),isMediaGalleryRestoreEnabled:v(d("MAWMediaGalleryM2Utils").isMediaGalleryM2Enabled()),isMpsEnabled:v(d("MAWMpsGating").isMpsEnabled()),isRejectingEbPromiseUponFailureEnabled:v(c("gkx")("9376")),isUsingLsInitCache:v(c("qex")._("4511")),lastItemExternalId:(J=x==null?void 0:x.offlineThreadingId)!=null?J:"null",lastItemTimestamp:h.to_string((O=x==null?void 0:x.primarySortKey)!=null?O:(h||(h=d("I64"))).zero),missingInTargetCategory:JSON.stringify(g.missingInTargetCategory),pageIndex:A+"",pageSize:g.pageSize+"",truncateState:(f=JSON.stringify(F))!=null?f:"null",version:D?r:"0"})}function v(a){return a===!0?"true":"false"}function w(a){var b=0,c=0,d=0;a.detailedResults.forEach(function(a){a[0];a=a[1];switch(a.result){case"missing_in_target":case"missing_in_target_exists_in_lsdb":b+=1;break;case"missing_in_target_invalid_sortOrder":c+=1;b+=1;break;case"missing_in_reference":d+=1;break;case"consistent":case"skipped_in_target":case"skipped_in_reference":break;default:a.result}});return{detailedResults:x(a.detailedResults),numOfMissingInReference:d+"",numOfMissingInTarget:b+"",numOfMissingInTargetInvalidSortOrder:c+"",setDifferenceInReference:a.setDifferenceInReference+"",setDifferenceInTarget:a.setDifferenceInTarget+""}}function x(a){a=a.map(function(a){var b=a[0];a=a[1];var d=a.existingInUISamePage,e=a.result,f=a.sortOrderSkewMs;a=a.sortOrderSkewNumberOfMsg;return babelHelpers.extends({existingInUISamePage:d,externalId:b.externalId,isOutgoing:b.isOutgoing},c("gkx")("1626")?{msgType:b.msgType,sortOrderMs:b.sortOrderMs}:{},{result:e,sortOrderSkewMs:(d=f)!=null?d:0,sortOrderSkewNumberOfMsg:(b=a)!=null?b:0})});return JSON.stringify(a)}function y(a){return a.length===0?(h||(h=d("I64"))).min_int:a.map(function(a){return a.timestampMs}).sort((h||(h=d("I64"))).compare)[0]}b={runMessageIntegrityCheck:a};g.default=b}),98);
__d("MWCMCreateSubthreadMenuItem.react",["I64","Int64Hooks","LsFalcoEventEntryPoint","MWXMenuItem.react","SubthreadCreationStrings.react","react","react-compiler-runtime","requireDeferred","useMWCMCreateSubthread","useOpenSubthreadView"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("requireDeferred")("LsMessageActionFalcoEvent").__setRef("MWCMCreateSubthreadMenuItem.react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.message;a=c("useMWCMCreateSubthread")(e);var f=a[0];a=a[1];var g=c("useOpenSubthreadView")(),h=e.subthreadKey,l,m;b[0]!==e.messageId||b[1]!==e.threadKey||b[2]!==f||b[3]!==g||b[4]!==h?(l=function(){k.onReady(function(a){return a.log(function(){var a={};return{action:{container_module:"MWCMCreateSubthreadMenuItem",type:h!=null?105:104},error:{message:void 0},extra:a,message:{attachment_type:"",entry_point:d("LsFalcoEventEntryPoint").messageActions,id:e.messageId,recipient_id:void 0},thread:{group_size:(i||(i=d("I64"))).to_string(i.zero),id:i.to_string(e.threadKey),type:18}}})}),h!=null?g(h):f()},m=[e.messageId,e.threadKey,f,g,h],b[0]=e.messageId,b[1]=e.threadKey,b[2]=f,b[3]=g,b[4]=h,b[5]=l,b[6]=m):(l=b[5],m=b[6]);l=d("Int64Hooks").useCallbackInt64(l,m);m=h!=null?d("SubthreadCreationStrings.react").viewSubthreadLabel:d("SubthreadCreationStrings.react").createSubthreadLabel;var n=h!=null?d("SubthreadCreationStrings.react").viewSubthreadLabel:d("SubthreadCreationStrings.react").createSubthreadLabel,o;b[7]!==a||b[8]!==l||b[9]!==m||b[10]!==n?(o=j.jsx(c("MWXMenuItem.react"),{"aria-label":m,disabled:a,onClick:l,primaryText:n}),b[7]=a,b[8]=l,b[9]=m,b[10]=n,b[11]=o):o=b[11];return o}g["default"]=a}),98);
__d("MWChatAudioLog",["AudioClipsBrowserBlockMicAccessFalcoEvent","AudioClipsCancelledByUserFalcoEvent","AudioClipsDialogNotnowMicAccessFalcoEvent","AudioClipsDialogOkMicAccessFalcoEvent","AudioClipsMicAccessCheckFailedFalcoEvent","AudioClipsPlaybackPauseFalcoEvent","AudioClipsPlaybackResumeFalcoEvent","AudioClipsPlaybackStartFalcoEvent","AudioClipsStartRecordingClickFalcoEvent","AudioClipsStopRecordingClickFalcoEvent","I64","Ls1lcFeatureOpenFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){c("AudioClipsStopRecordingClickFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:"true",position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function b(){c("AudioClipsStartRecordingClickFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}}),c("Ls1lcFeatureOpenFalcoEvent").log(function(){return{extra:void 0,feature:13,feature_sessionid:void 0,screen_orientation:void 0,stage:7,thread:void 0}})}function e(){c("AudioClipsCancelledByUserFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function f(){c("AudioClipsBrowserBlockMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function i(a){c("AudioClipsPlaybackStartFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function j(a,b){c("AudioClipsPlaybackPauseFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:h.to_string(h.of_float(b)),rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function k(a,b){c("AudioClipsPlaybackResumeFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:h.to_string(h.of_float(b)),rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function l(){c("AudioClipsDialogOkMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function m(){c("AudioClipsDialogNotnowMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function n(){c("AudioClipsMicAccessCheckFailedFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}g.logClickStopRecording=a;g.logClickStartRecording=b;g.logDeleteRecording=e;g.logBrowserDenyAccess=f;g.logPlaybackStart=i;g.logPlaybackPause=j;g.logPlaybackResume=k;g.logDialogOk=l;g.logDialogNotNow=m;g.logMicAccessCheckFailed=n}),98);
__d("useMWChatPromptSuggestions",["fbt","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i;(i||d("react")).useMemo;var j=[h._(/*BTDS*/"B\u1ea1n bi\u1ebft \u0111\u1ebfn k\u00eanh n\u00e0y b\u1eb1ng c\u00e1ch n\u00e0o?"),h._(/*BTDS*/"T\u00f4i n\u00ean d\u00f9ng k\u00eanh n\u00e0y cho m\u1ee5c \u0111\u00edch g\u00ec?"),h._(/*BTDS*/"B\u1ea1n \u0111ang nghe b\u00e0i h\u00e1t n\u00e0o?"),h._(/*BTDS*/"L\u00e0m t\u00f4i c\u01b0\u1eddi \u0111i n\u00e0o \ud83d\udc80"),h._(/*BTDS*/"\u0110i\u1ec1u y\u00eau th\u00edch l\u00fac n\u00e0y \ud83d\udc98"),h._(/*BTDS*/"\u0110i\u1ec3m du l\u1ecbch y\u00eau th\u00edch \u2708\ufe0f"),h._(/*BTDS*/"M\u1ed9t n\u01a1i h\u1ea1nh ph\u00fac \u2763\ufe0f"),h._(/*BTDS*/"\u0110i\u1ec1u tuy\u1ec7t nh\u1ea5t t\u1eeb \u0111\u1ea7u n\u0103m 2024 \u0111\u1ebfn gi\u1edd?"),h._(/*BTDS*/"\u0110i\u1ec1u khi\u1ebfn b\u1ea1n th\u1ea5y t\u1ef1 h\u00e0o \ud83d\udc9f"),h._(/*BTDS*/"10 n\u0103m tr\u01b0\u1edbc, t\u00f4i..."),h._(/*BTDS*/"H\u00f4m nay b\u1ea1n bi\u1ebft \u01a1n v\u00ec \u0111i\u1ec1u g\u00ec? \ud83e\udef6"),h._(/*BTDS*/"N\u1ebfu ti\u1ec1n b\u1ea1c kh\u00f4ng ph\u1ea3i l\u00e0 v\u1ea5n \u0111\u1ec1 th\u00ec c\u00f4ng vi\u1ec7c m\u01a1 \u01b0\u1edbc c\u1ee7a b\u1ea1n l\u00e0 g\u00ec?"),h._(/*BTDS*/"\u0110i\u1ec1u g\u00ec \u0111ang truy\u1ec1n c\u1ea3m h\u1ee9ng cho b\u1ea1n? \ud83c\udf1f"),h._(/*BTDS*/"\u0110i\u1ec1u g\u00ec m\u00e0 ch\u1ec9 b\u1ea1n m\u1edbi c\u00f3?"),h._(/*BTDS*/"M\u1ed9t b\u1ed9 phim b\u1ea1n y\u00eau th\u00edch g\u1ea7n \u0111\u00e2y \ud83c\udfa5"),h._(/*BTDS*/"C\u00f3 s\u1ee9c kh\u1ecfe l\u00e0 c\u00f3 t\u1ea5t c\u1ea3 \ud83d\udcaa\ud83e\udd57"),h._(/*BTDS*/"Bu\u1ed5i h\u00f2a nh\u1ea1c g\u1ea7n \u0111\u00e2y nh\u1ea5t b\u1ea1n \u0111i xem \ud83d\udc69\u200d\ud83c\udfa4"),h._(/*BTDS*/"H\u00f4m nay, t\u00f4i \u0111\u00e3 h\u1ecdc \u0111\u01b0\u1ee3c..."),h._(/*BTDS*/"B\u1ea1n \u0111\u1ecbnh l\u00e0m g\u00ec t\u1ed1i nay?")];function k(a){a=a.slice();for(var b=a.length-1;b>=0;b--){var c=Math.floor(Math.random()*(b+1)),d=a[b];a[b]=a[c];a[c]=d}return a}function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k(j),a[0]=b):b=a[0];a=b;return a}g["default"]=a}),226);
__d("MWChatPromptFlyoutSuggestions.react",["FocusGroup.react","MWXPressable.react","MWXScrollableArea.react","MWXText.react","focusScopeQueries","react","react-compiler-runtime","useMWChatPromptSuggestions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={pressable:{borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",marginTop:"xw7yly9",marginBottom:"x1yztbdb",marginStart:"x1i64zmx",marginEnd:"x1emribx",marginLeft:null,marginRight:null,$$css:!0},scrollArea:{maxWidth:"x193iq5w",$$css:!0}};function k(a){var b=d("react-compiler-runtime").c(6),e=a.onPress;a=a.text;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x6s0dn4 xx7qk4p xyi19xy x1ccrb07 xtf3nb5 x1pc53ja xwflfxt x78zum5 x2lah0s x1vqgdyp xl56j7k x1kbpmyu x1y1aw1k x1sxyh0 xwib8y2 xurb0ha x2b8uid"},b[0]=f):f=b[0];b[1]!==a?(f=i.jsx("div",babelHelpers["extends"]({},f,{children:i.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:2,type:"body4",children:a})})),b[1]=a,b[2]=f):f=b[2];b[3]!==e||b[4]!==f?(a=i.jsx(c("MWXPressable.react"),{onPress:e,overlayRadius:"inherit",xstyle:j.pressable,children:f}),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}b=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);var l=b[0],m=b[1];function a(a){var b=d("react-compiler-runtime").c(11),e=a.onPressSuggestion;a=c("useMWChatPromptSuggestions")();var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx("div",{className:"x2lah0s x1xc55vz"}),b[0]=f):f=b[0];if(b[1]!==e||b[2]!==a){var g;b[4]!==e?(g=function(a,b){return i.jsx(m,{children:i.jsx(k,{onPress:function(){return e(a)},text:a})},b)},b[4]=e,b[5]=g):g=b[5];g=a.map(g);b[1]=e;b[2]=a;b[3]=g}else g=b[3];b[6]!==g?(a=i.jsx(l,{orientation:"horizontal",tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:g}),b[6]=g,b[7]=a):a=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx("div",{className:"x2lah0s x1xc55vz"}),b[8]=g):g=b[8];b[9]!==a?(f=i.jsxs(c("MWXScrollableArea.react"),{horizontal:!0,vertical:!1,xstyle:j.scrollArea,children:[f,a,g]}),b[9]=a,b[10]=f):f=b[10];return f}g["default"]=a}),98);
__d("MWXDialog.react",["MWXColumn.react","MWXColumnItem.react","cr:3020","cr:6827","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(15),f,g,h;e[0]!==a?(g=a.children,h=a.hasTextOnlyContent,f=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasTextOnlyContent"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h):(f=e[1],g=e[2],h=e[3]);if(b("cr:3020")!=null){if(e[4]!==f){a=f;a.scrollAreaFocusProps;a=babelHelpers.objectWithoutPropertiesLoose(a,["scrollAreaFocusProps"]);a=a;e[4]=f;e[5]=a}else a=e[5];var j;e[6]!==g?(j=i.jsx(c("MWXColumn.react"),{expanding:!0,paddingHorizontal:16,paddingVertical:16,children:i.jsx(c("MWXColumnItem.react"),{expanding:!0,children:g})}),e[6]=g,e[7]=j):j=e[7];var k;e[8]!==a||e[9]!==j?(k=i.jsx(b("cr:3020"),babelHelpers["extends"]({},a,{children:j})),e[8]=a,e[9]=j,e[10]=k):k=e[10];return k}if(b("cr:6827")!=null){e[11]!==f||e[12]!==g||e[13]!==h?(a=i.jsx(b("cr:6827"),babelHelpers["extends"]({hasTextOnlyContent:h},f,{children:g})),e[11]=f,e[12]=g,e[13]=h,e[14]=a):a=e[14];return a}return null}g["default"]=a}),98);
__d("MWXDialogFooter.react",["MWXSpinner.react","cr:6993","cr:9720","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(29),f,g,h,j,k;e[0]!==a?(g=a.callToActionGroupDirection,h=a.callToActionGroupWrap,j=a.primaryCallToAction,k=a.secondaryCallToAction,f=babelHelpers.objectWithoutPropertiesLoose(a,["callToActionGroupDirection","callToActionGroupWrap","primaryCallToAction","secondaryCallToAction"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=j,e[5]=k):(f=e[1],g=e[2],h=e[3],j=e[4],k=e[5]);if(b("cr:9720")!=null){a=(a=j)!=null?a:k;var l=j==null?null:k;if(a==null)return null;var m,n,o;e[6]!==a?(m=a.disabled,n=a.loading,o=babelHelpers.objectWithoutPropertiesLoose(a,["disabled","loading"]),e[6]=a,e[7]=m,e[8]=n,e[9]=o):(m=e[7],n=e[8],o=e[9]);var p;e[10]!==n?(p=n===!0?i.jsx(c("MWXSpinner.react"),{color:"blue",size:24}):void 0,e[10]=n,e[11]=p):p=e[11];p=p;n=n===!0?!0:m;m=a.type==="destructive"?"fdsOverride_negative":a.type;e[12]!==p||e[13]!==o||e[14]!==n||e[15]!==m?(a=babelHelpers["extends"]({},o,{addOnPrimary:p,disabled:n,type:m}),e[12]=p,e[13]=o,e[14]=n,e[15]=m,e[16]=a):a=e[16];e[17]!==f||e[18]!==g||e[19]!==h||e[20]!==l||e[21]!==a?(p=i.jsx(b("cr:9720"),babelHelpers["extends"]({direction:g,primary:a,secondary:l,wrap:h},f)),e[17]=f,e[18]=g,e[19]=h,e[20]=l,e[21]=a,e[22]=p):p=e[22];return p}if(b("cr:6993")!=null){e[23]!==f||e[24]!==g||e[25]!==h||e[26]!==j||e[27]!==k?(o=i.jsx(b("cr:6993"),babelHelpers["extends"]({callToActionGroupDirection:g,callToActionGroupWrap:h,primaryCallToAction:j,secondaryCallToAction:k},f)),e[23]=f,e[24]=g,e[25]=h,e[26]=j,e[27]=k,e[28]=o):o=e[28];return o}return null}g["default"]=a}),98);
__d("MWXDialogHeader.react",["cr:73","cr:7626","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(15),e,f,g,h,j;c[0]!==a?(f=a.mdsTitleLayout,g=a.showTruncationTooltip,h=a.title,j=a.withoutDivider,e=babelHelpers.objectWithoutPropertiesLoose(a,["mdsTitleLayout","showTruncationTooltip","title","withoutDivider"]),c[0]=a,c[1]=e,c[2]=f,c[3]=g,c[4]=h,c[5]=j):(e=c[1],f=c[2],g=c[3],h=c[4],j=c[5]);a=g===void 0?!0:g;if(b("cr:7626")!=null){g=(g=h)!=null?g:void 0;var k;c[6]!==e||c[7]!==a||c[8]!==g||c[9]!==j?(k=i.jsx(b("cr:7626"),babelHelpers["extends"]({text:g},e,{showTruncationTooltip:a,withoutDivider:j})),c[6]=e,c[7]=a,c[8]=g,c[9]=j,c[10]=k):k=c[10];return k}if(b("cr:73")!=null){c[11]!==e||c[12]!==f||c[13]!==h?(a=i.jsx(b("cr:73"),babelHelpers["extends"]({title:h,titleLayout:f},e)),c[11]=e,c[12]=f,c[13]=h,c[14]=a):a=c[14];return a}return null}g["default"]=a}),98);
__d("MWChatPromptDialog.react",["fbt","FBLogger","FocusRegion.react","I64","MWChatPromptFlyoutFrontCard.react","MWChatPromptFlyoutSuggestions.react","MWPromptCreationUtils","MWXDialog.react","MWXDialogFooter.react","MWXDialogHeader.react","MWXText.react","MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent","RollCallPromptType","react","react-compiler-runtime","useMWXPushToast","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l;b=l||d("react");var m=i||(i=c("react"));b.useCallback;var n=b.useState;function a(a){var b=d("react-compiler-runtime").c(44),e=a.onClose,f=a.threadKey,g=(k||(k=c("useReStore")))(),i=c("useMWXPushToast")();a=n("");var l=a[0],p=a[1];a=n(!1);var q=a[0],r=a[1];b[0]!==e||b[1]!==f?(a=function(){e(),c("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:303,source:156,surface:7,thread_id:(j||(j=d("I64"))).to_string(f)}})},b[0]=e,b[1]=f,b[2]=a):a=b[2];var s=a;b[3]!==g||b[4]!==s||b[5]!==l||b[6]!==i||b[7]!==f?(a=function(){(async function(){r(!0),await d("MWPromptCreationUtils").createAuthoritiativeRollCall(g,f,l,c("RollCallPromptType").TEXT),s()})().catch(function(a){r(!1),c("FBLogger")("messenger_web").catching(a).mustfix("Creating prompt"),i({body:h._(/*BTDS*/"Kh\u00f4ng t\u1ea1o \u0111\u01b0\u1ee3c g\u1ee3i \u00fd")})}),c("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:304,source:17,surface:101,thread_id:(j||(j=d("I64"))).to_string(f)}})},b[3]=g,b[4]=s,b[5]=l,b[6]=i,b[7]=f,b[8]=a):a=b[8];a=a;var t;b[9]===Symbol.for("react.memo_cache_sentinel")?(t=function(a){p(a.toString())},b[9]=t):t=b[9];t=t;var u=o,v;b[10]!==f?(v={onImpressionStart:function(){c("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:2,event_name:301,source:156,surface:7,thread_id:(j||(j=d("I64"))).to_string(f)}})}},b[10]=f,b[11]=v):v=b[11];v=c("useSinglePartialViewImpression")(v);var w;b[12]!==q||b[13]!==l?(w=q||l.trim()==="",b[12]=q,b[13]=l,b[14]=w):w=b[14];b[15]===Symbol.for("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"G\u1eedi"),b[15]=q):q=b[15];b[16]!==a||b[17]!==w?(q={disabled:w,label:q,onPress:a},b[16]=a,b[17]=w,b[18]=q):q=b[18];b[19]===Symbol.for("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"H\u1ee7y"),b[19]=a):a=b[19];b[20]!==s?(w={label:a,onPress:s},b[20]=s,b[21]=w):w=b[21];b[22]!==q||b[23]!==w?(a=m.jsx(c("MWXDialogFooter.react"),{callToActionGroupDirection:"backward",primaryCallToAction:q,secondaryCallToAction:w}),b[22]=q,b[23]=w,b[24]=a):a=b[24];b[25]===Symbol.for("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"G\u1ee3i \u00fd m\u1edbi"),b[25]=q):q=b[25];b[26]!==s?(w=m.jsx(c("MWXDialogHeader.react"),{onClose:s,title:q,withCloseButton:!0}),b[26]=s,b[27]=w):w=b[27];b[28]===Symbol.for("react.memo_cache_sentinel")?(q={className:"x6s0dn4 x9f619 x78zum5 xdt5ytf"},b[28]=q):q=b[28];var x;b[29]===Symbol.for("react.memo_cache_sentinel")?(x={className:"x1y1aw1k x1n2onr6"},b[29]=x):x=b[29];var y;b[30]===Symbol.for("react.memo_cache_sentinel")?(y=function(a){p(a.target.value)},b[30]=y):y=b[30];b[31]!==l?(x=m.jsx("div",babelHelpers.extends({},x,{children:m.jsx(c("MWChatPromptFlyoutFrontCard.react"),{maxLength:75,onChange:y,showFacepile:!1,value:l})})),b[31]=l,b[32]=x):x=b[32];b[33]===Symbol.for("react.memo_cache_sentinel")?(y=m.jsx(c("MWChatPromptFlyoutSuggestions.react"),{onPressSuggestion:t}),t={className:"xyamay9 x2b8uid"},b[33]=y,b[34]=t):(y=b[33],t=b[34]);b[35]===Symbol.for("react.memo_cache_sentinel")?(t=m.jsx("div",babelHelpers.extends({},t,{children:m.jsx(c("MWXText.react"),{type:"meta4",children:h._(/*BTDS*/"Th\u00e0nh vi\u00ean c\u00f3 th\u1ec3 ph\u1ea3n h\u1ed3i b\u1eb1ng v\u0103n b\u1ea3n trong 24 gi\u1edd.")})})),b[35]=t):t=b[35];b[36]!==v||b[37]!==x?(u=m.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:u,children:m.jsxs("div",babelHelpers.extends({},q,{ref:v,children:[x,y,t]}))}),b[36]=v,b[37]=x,b[38]=u):u=b[38];b[39]!==s||b[40]!==a||b[41]!==w||b[42]!==u?(q=m.jsx(c("MWXDialog.react"),{footer:a,header:w,onClose:s,size:"small",children:u}),b[39]=s,b[40]=a,b[41]=w,b[42]=u,b[43]=q):q=b[43];return q}function o(a){return a==="textarea"}g.default=a}),226);
__d("NewPollSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5500");b=d("FalcoLoggerInternal").create("new_poll_submit_error",a);e=b;g["default"]=e}),98);
__d("NewPollSubmitSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5501");b=d("FalcoLoggerInternal").create("new_poll_submit_success",a);e=b;g["default"]=e}),98);
__d("OpenExistingPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5502");b=d("FalcoLoggerInternal").create("open_existing_poll",a);e=b;g["default"]=e}),98);
__d("ShowVotersFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5503");b=d("FalcoLoggerInternal").create("show_voters",a);e=b;g["default"]=e}),98);
__d("StartNewPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5504");b=d("FalcoLoggerInternal").create("start_new_poll",a);e=b;g["default"]=e}),98);
__d("SubmitExistingPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5505");b=d("FalcoLoggerInternal").create("submit_existing_poll",a);e=b;g["default"]=e}),98);
__d("SubmitNewPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5506");b=d("FalcoLoggerInternal").create("submit_new_poll",a);e=b;g["default"]=e}),98);
__d("MWGroupPollLogger",["ChangeVoteFalcoEvent","ExistingPollSubmitErrorFalcoEvent","ExistingPollSubmitSuccessFalcoEvent","NewPollSubmitErrorFalcoEvent","NewPollSubmitSuccessFalcoEvent","OpenExistingPollFalcoEvent","ShowVotersFalcoEvent","StartNewPollFalcoEvent","SubmitExistingPollFalcoEvent","SubmitNewPollFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(a){case"start_new_poll":c("StartNewPollFalcoEvent").log(function(){return b});break;case"submit_new_poll":c("SubmitNewPollFalcoEvent").log(function(){return b});break;case"open_existing_poll":c("OpenExistingPollFalcoEvent").log(function(){return b});break;case"submit_existing_poll":c("SubmitExistingPollFalcoEvent").log(function(){return b});break;case"change_vote":c("ChangeVoteFalcoEvent").log(function(){return b});break;case"show_voters":c("ShowVotersFalcoEvent").log(function(){return b});break;case"existing_poll_submit_error":c("ExistingPollSubmitErrorFalcoEvent").log(function(){return b});break;case"existing_poll_submit_success":c("ExistingPollSubmitSuccessFalcoEvent").log(function(){return b});break;case"new_poll_submit_error":c("NewPollSubmitErrorFalcoEvent").log(function(){return b});break;case"new_poll_submit_success":c("NewPollSubmitSuccessFalcoEvent").log(function(){return b});break}}g.log=a}),98);
__d("MWOpenMediaManagerUtils",["fbt","I64","LSFactory","LSGenerateTraceId","LSIntEnum","LSMarkSubJobCompletedV2StoredProcedure","MWConsole","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","ReQL","cr:6057","emptyFunction","gkx","justknobx","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){b("cr:6057").preload();if(c("gkx")("3918"))return Promise.all(a.map(function(a){var b=a[0];a=a[1];if(b.type==="application/zip")return Promise.reject("invalid file type");b={file:b,offlineAttachmentId:a};return Promise.resolve(b)}));else return Promise.resolve(a.map(function(a){var b=a[0];a=a[1];return{file:b,offlineAttachmentId:a}}))}function e(a,b,e,g,j,l,m,n,o,p,q){j===void 0&&(j=c("emptyFunction"));l===void 0&&(l=c("emptyFunction"));m===void 0&&(m=c("emptyFunction"));var r=function(b,e){e=e.event;if(!e.lengthComputable)return;var g=e.loaded/e.total;c("promiseDone")(a.runInTransaction(function(a){return d("MWPOpenComposerUtils").updateMediaStaging(a,b,function(a){return babelHelpers.extends({},a,{progress:g})})},"readwrite",void 0,void 0,f.id+":95"))},s=function(j,n){if(n==null||n.length===0){var o="";if(!c("justknobx")._("899"))return;c("promiseDone")(a.runInTransaction(function(a){return d("MWPOpenComposerUtils").deleteMediaStaging(a,j).then(function(){return k(a,j)}).then(function(){var a=e.find(function(a){return a.offlineAttachmentId===j});a!=null&&a.file.type==="application/zip"?(g(h._(/*BTDS*/"_j[\"\\u0110\\u1ecbnh d\\u1ea1ng file kh\\u00f4ng h\\u1ee3p l\\u1ec7\",\"f90fb65f92ad8ac33f140b8be3c9eed1\",1]"),h._(/*BTDS*/"File b\u1ea1n ch\u1ecdn c\u00f3 \u0111\u1ecbnh d\u1ea1ng kh\u00f4ng h\u1ee3p l\u1ec7.")),o="null_fbid_invalid_file_format"):(g(h._(/*BTDS*/"Ch\u01b0a t\u1ea3i l\u00ean \u0111\u01b0\u1ee3c")),o="null_fbid_other")})},"readwrite",void 0,void 0,f.id+":118"),function(){return m(o,j)});return}c("promiseDone")(a.runInTransaction(function(a){var e=d("MWPOpenComposerUtils").updateMediaStaging(a,j,function(a){return babelHelpers.extends({},a,{fbid:(i||(i=d("I64"))).of_string(n),progress:1})}),f=a.media_send_jobs.get(j).then(function(e){if(e==null)return Promise.resolve();var f=c("LSFactory")(a),g=e.offlineThreadingId,h=e.offlineAttachmentId;return c("LSMarkSubJobCompletedV2StoredProcedure")(f,{fbid:(i||(i=d("I64"))).of_string(n),offlineAttachmentId:j}).then(function(){return d("MWPOpenComposerUtils").deleteMediaStaging(a,j)}).then(function(){return d("MWPOpenComposerUtils").updateAttachment(a,b,g,h,function(a){return babelHelpers.extends({},a,{attachmentFbid:n.toString()})})}).then(function(){return d("MWPOpenComposerUtils").resumeSendJob(f,g,c("LSGenerateTraceId")())})});return Promise.all([e,f])},"readwrite",void 0,void 0,f.id+":157"),function(){return l(j)})},t=function(b,e){c("promiseDone")(a.runInTransaction(function(a){return d("MWPOpenComposerUtils").updateMediaStaging(a,b,function(a){return babelHelpers.extends({},a,{hasError:!0})}).then(function(){return k(a,b)})},"readwrite",void 0,void 0,f.id+":210"),function(){var a;m((a=e.response.getErrorDescriptionString())!=null?a:"unknown_upload_failure",b)})};if(c("gkx")("3918")&&e.length===0)return Promise.resolve();var u=e.map(function(a){return a.offlineAttachmentId}),v=e.map(function(a){return a.file});return d("MWPComposerMediaUploadUtil").startUpload(j,r,s,t,void 0,v,u,n,o,void 0,p,q)}async function k(a,b){b=await a.media_send_jobs.get(b);if(b==null)return;b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("optimistic")).getKeyRange(b.offlineThreadingId));if(b==null)return;b=babelHelpers.extends({},b,{sendStatusV2:(j||(j=d("LSIntEnum"))).ofNumber(4)});await a.messages.put(b)}g.preprocess=a;g.upload=e}),226);
__d("MWPinnedMessagesDialogNUXFactoryRequireNUX.react",["nux:345"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return b("nux:345")==null?void 0:b("nux:345")("WEB_MSGR_PINNED_MESSAGES_NUX")};c=a;g["default"]=c}),98);
__d("useMAWToggleSecurePinMessage",["I64","LSFactory","LSOptimisticSetOrUnsetPinnedMessageStoredProcedure","LSPinnedMessageState","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ServerTime","react","useAsyncReStore","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(a,b){var e=c("useAsyncReStore")(),g=c("useMWPIsMessagePinned")(a),h=a.offlineThreadingId,k=a.threadKey,l=d("ServerTime").getMillis(),m=c("MessengerWebUXLogger").useInteractionLogger();a=async function(){var a=await e,j=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads,["threadType"]).getKeyRange(k));await a.runInTransaction(function(a){var e=g?c("LSPinnedMessageState").NOT_PINNED:c("LSPinnedMessageState").PINNED,f=g?"unpin_message":"pin_message",n=g?"unpin":"pin";b==="message_dot_menu"?m==null?void 0:m({eventName:f,threadKey:k,threadType:j==null?void 0:j.threadType}):n==="unpin"&&b==="pinned_message_list_dot_menu"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","unpin");return c("LSOptimisticSetOrUnsetPinnedMessageStoredProcedure")(c("LSFactory")(a),{offlineThreadingId:h,state:(i||(i=d("I64"))).of_int32(e),threadKey:k,timestampMs:i.of_int32(l)})},"readwrite",void 0,void 0,f.id+":51")};return j(a,[e,g,k,l,h,b,m])}g.default=a}),98);
__d("useMWPinnedMessageLimitReached",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=50;function a(a){var b=d("react-compiler-runtime").c(12),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.msg_pinned_messages_v2||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.msg_pinned_messages_v2).getKeyRange(a)},b[0]=e.tables.msg_pinned_messages_v2,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];g=d("ReQLSuspense").useArray(g,j,f.id+":27").length;b[6]!==e.tables.client_web_pinned_messages||b[7]!==a?(j=function(){return d("ReQL").fromTableAscending(e.tables.client_web_pinned_messages).getKeyRange(a)},b[6]=e.tables.client_web_pinned_messages,b[7]=a,b[8]=j):j=b[8];var k;b[9]!==e||b[10]!==a?(k=[e,a],b[9]=e,b[10]=a,b[11]=k):k=b[11];b=d("ReQLSuspense").useArray(j,k,f.id+":35").length;return g>=i||b>=i}g["default"]=a}),98);
__d("useMWTogglePinMessage",["I64","LSFactory","LSOptimisticSetPinnedMessageStoredProcedure","LSPinnedMessageState","MWPActor.react","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ServerTime","promiseDone","react","requireDeferred","useAsyncReStore","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback,k=c("requireDeferred")("MWLogMessageAction").__setRef("useMWTogglePinMessage");function a(a,b){var e=c("useAsyncReStore")(),g=c("useMWPIsMessagePinned")(a),h=a.messageId,l=a.senderId,m=a.threadKey,n=d("ServerTime").getMillis(),o=d("MWPActor.react").useActor(),p=c("MessengerWebUXLogger").useInteractionLogger();a=async function(){var a=await e,j=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads,["threadType"]).getKeyRange(m));await a.runInTransaction(function(e){var f=g?c("LSPinnedMessageState").NOT_PINNED:c("LSPinnedMessageState").PINNED,q=g?"unpin_message":"pin_message",r=g?"unpin":"pin";b==="message_dot_menu"?(k.onReady(function(d){return c("promiseDone")(d.log(a,h,m,b,r,void 0,void 0,void 0,l,void 0,o))}),p==null?void 0:p({eventName:q,threadKey:m,threadType:j==null?void 0:j.threadType})):r==="unpin"&&b==="pinned_message_list_dot_menu"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","unpin");return c("LSOptimisticSetPinnedMessageStoredProcedure")(c("LSFactory")(e),{messageId:h,pinnedTimestampMs:(i||(i=d("I64"))).of_int32(n),state:i.of_int32(f),threadKey:m})},"readwrite",void 0,void 0,f.id+":58")};return j(a,[o,e,g,m,n,b,h,l,p])}g.default=a}),98);
__d("MWPinMessageMenuItem.react",["fbt","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWLSThread","MWPinnedMessagesDialogNUXFactoryRequireNUX.react","MWXMenuItem.react","promiseDone","react","useMAWToggleSecurePinMessage","useMWPIsMessagePinned","useMWPinnedMessageLimitReached","useMWTogglePinMessage","useMWXLazyDialog","useSharedNUX"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("JSResourceForInteraction")("MWPinnedMessageLimitReachedDialog.react").__setRef("MWPinMessageMenuItem.react");function a(a){var b=a.message,e=a.onClick,f=a.onPinCompleted,g=h._(/*BTDS*/"Ghim"),i=h._(/*BTDS*/"B\u1ecf ghim"),l=c("useMWPIsMessagePinned")(b),m=c("MWPinnedMessagesDialogNUXFactoryRequireNUX.react")();a=c("useMWXLazyDialog")(k);var n=a[0];a=d("MWLSThread").useThread(b.threadKey);a=a!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a==null?void 0:a.threadType);var o=c("useMWTogglePinMessage")(b,"message_dot_menu"),p=c("useMAWToggleSecurePinMessage")(b,"message_dot_menu"),q=a?p:o,r=c("useMWPinnedMessageLimitReached")(b.threadKey);a=c("useSharedNUX")("WEB_MSGR_PINNED_MESSAGES_NUX");var s=a[0];p=function(a){return m!=null?m({children:a,dialogProps:{onClose:function(){},pinMessageHandler:function(){return c("promiseDone")(q(),f)}}}):j.jsx(j.Fragment,{children:a(function(){return c("promiseDone")(q(),f)})})};o=function(a){return j.jsx(c("MWXMenuItem.react"),{"aria-haspopup":!l&&s?"dialog":void 0,onClick:function(d){if(r&&!l)return n({threadKey:b.threadKey},function(){});!l?a():c("promiseDone")(q());e&&e(l)},primaryText:l?i:g})};return p(o)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPinnedMessagesDialogNUXFactory.react",["JSResourceForInteraction","MWInboxPersistedUIState","declareNUXRequireable","react","useMWXLazyDialog","useSharedNUX"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;var i=b.useCallback,j=b.useMemo,k=c("JSResourceForInteraction")("MWPinnedMessagesDialogNUX.react").__setRef("MWPinnedMessagesDialogNUXFactory.react");function a(a){function b(b){var e=b.children,f=b.dialogProps;b=c("useSharedNUX")(a);var g=b[0],h=b[1];b=d("MWInboxPersistedUIState").usePersistedUIState(void 0,"__MWSimpleNux."+a+"__");b[0];var l=b[1],m=i(function(){l(void 0),h.onDismiss()},[h,l]),n=j(function(){return{onDismiss:m,pinMessageHandler:f.pinMessageHandler}},[f,m]);b=c("useMWXLazyDialog")(k);var o=b[0];b=function(){return o(n)};return g?e(b):e(f.pinMessageHandler)}b.displayName=b.name+" [from "+f.id+"]";return b}e=c("declareNUXRequireable")(a);g["default"]=e}),98);
__d("MWV2ChatHotlikeSoundsConfig",["bx"],(function(a,b,c,d,e,f,g){"use strict";b=(a=c("bx")).getURL(a("273031"));d=a.getURL(a("273032"));e=a.getURL(a("273039"));f=a.getURL(a("273040"));c=a.getURL(a("273033"));var h=a.getURL(a("273034")),i=a.getURL(a("273035")),j=a.getURL(a("273036")),k=a.getURL(a("273037"));a=a.getURL(a("273038"));g.hotlikeGrowMp3Url=b;g.hotlikeGrowOggUrl=d;g.hotlikePopMp3Url=e;g.hotlikePopOggUrl=f;g.hotlikeOutgoingLargeMp3Url=c;g.hotlikeOutgoingLargeOggUrl=h;g.hotlikeOutgoingMediumMp3Url=i;g.hotlikeOutgoingMediumOggUrl=j;g.hotlikeOutgoingSmallMp3Url=k;g.hotlikeOutgoingSmallOggUrl=a}),98);
__d("MWV2ChatHotlikeSounds",["LSHotEmojiSize","MWChatSettingsQuery","MWV2ChatHotlikeSoundsConfig","Sound"],(function(a,b,c,d,e,f,g){"use strict";var h=[(f=d("MWV2ChatHotlikeSoundsConfig")).hotlikeGrowMp3Url,f.hotlikeGrowOggUrl],i=[f.hotlikePopMp3Url,f.hotlikePopOggUrl],j=[f.hotlikeOutgoingSmallMp3Url,f.hotlikeOutgoingSmallOggUrl],k=[f.hotlikeOutgoingMediumMp3Url,f.hotlikeOutgoingMediumOggUrl],l=[f.hotlikeOutgoingLargeMp3Url,f.hotlikeOutgoingLargeOggUrl],m=!1;function a(){m=!1,o(h)}function n(){m=!0,d("Sound").stop(h)}function b(){n(),o(i)}function e(a){n(),a===c("LSHotEmojiSize").SMALL?o(j):a===c("LSHotEmojiSize").MEDIUM?o(k):a===c("LSHotEmojiSize").LARGE&&o(l)}function o(a){d("MWChatSettingsQuery").areChatTabsSoundsOn(function(b){var c=a===h&&m;!c&&b!=null&&b===!0&&d("Sound").play(a,void 0,!1)})}g.start=a;g.pop=b;g.snap=e}),98);
__d("MWV2ForwardMenuItem.react",["fbt","I64","LSMessagingThreadTypeUtil","MWPActor.react","MWXMenuItem.react","MessengerWebUXLogger","WebUserFlowLoggingDataContextProvider.react","justknobx","react","react-compiler-runtime","useMWV2MessageForwardAction","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react")),l=i.useContext;function a(a){var b=d("react-compiler-runtime").c(14),e=a.message,f=a.threadType,g=c("MessengerWebUXLogger").useInteractionLogger();a=l(d("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext);var i=a.setLoggingData,m=d("MWPActor.react").useActor();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("justknobx")._("4219"),b[0]=a):a=b[0];a=a;var n;b[1]!==f?(n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(f),b[1]=f,b[2]=n):n=b[2];n=n;var o=c("useMWV2MessageForwardAction")(n,e,f);b[3]!==m||b[4]!==o||b[5]!==g||b[6]!==e||b[7]!==i||b[8]!==f?(n=function(){var a=e.threadKey,b=(j||(j=d("I64"))).equal(e.senderId,m);b={extraData:{actor_type:b?"sender":"receiver",component:"MWV2ForwardMenuItem"},flowInstanceId:c("uuidv4")(),threadKey:a,threadType:f};g==null?void 0:g(babelHelpers["extends"]({},b,{eventName:"open_forward_message_dialog"}));i(b);o()},b[3]=m,b[4]=o,b[5]=g,b[6]=e,b[7]=i,b[8]=f,b[9]=n):n=b[9];n=n;var p;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"Chuy\u1ec3n ti\u1ebfp"),b[10]=p):p=b[10];p=p;b[11]!==o||b[12]!==n?(a=a?k.jsx(c("MWXMenuItem.react"),{"aria-label":p,onClick:n,primaryText:p,testid:void 0}):k.jsx(c("MWXMenuItem.react"),{"aria-label":p,loggingEvent:"open_forward_message_dialog",onClick:o,primaryText:p,testid:void 0}),b[11]=o,b[12]=n,b[13]=a):a=b[13];return a}g["default"]=a}),226);
__d("useMWLSMessageReportingToken",["I64","Int64Hooks","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=d("react-compiler-runtime").c(4),e,f;c[0]!==a||c[1]!==b?(e=function(){return btoa("message_thread:"+(h||(h=d("I64"))).to_string(b)+":"+a)},f=[a,b],c[0]=a,c[1]=b,c[2]=e,c[3]=f):(e=c[2],f=c[3]);return d("Int64Hooks").useMemoInt64(e,f)}g["default"]=a}),98);
__d("MWV2GlobalReportMessageMenuItem.react",["fbt","CometFRX.entrypoint","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWXMenuItem.react","react","react-compiler-runtime","useMWLSMessageReportingToken","useMWXEntryPointDialog","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(20),e=a.icon,f=a.messageId,g=a.threadKey,i=a.threadType;b[0]!==i?(a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(i),b[0]=i,b[1]=a):a=b[1];a=a;f=c("useMWLSMessageReportingToken")(f,g);g="report_long_press";var l;b[2]!==i?(l=k(i),b[2]=i,b[3]=l):l=b[3];l=l;var m;b[4]!==a||b[5]!==f?(m=a?window.btoa("message_thread:encrypted"):f,b[4]=a,b[5]=f,b[6]=m):m=b[6];b[7]!==l||b[8]!==m?(a={entryPoint:g,id:m,location:l},b[7]=l,b[8]=m,b[9]=a):a=b[9];var n=a;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"B\u00e1o c\u00e1o"),b[10]=f):f=b[10];g=f;l=c("useMWXEntryPointDialog")(c("CometFRX.entrypoint"),n);var o=l[0];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(m=c("JSResourceForInteraction")("CometFRX_DEPRECATED.react").__setRef("MWV2GlobalReportMessageMenuItem.react"),b[11]=m):m=b[11];a=c("useMWXLazyDialog")(m);var p=a[0];b[12]!==n||b[13]!==o||b[14]!==p||b[15]!==i?(f=function(){d("LSMessagingThreadTypeUtil").isArmadilloSecure(i)?p(n):o({})},b[12]=n,b[13]=o,b[14]=p,b[15]=i,b[16]=f):f=b[16];l=f;b[17]!==e||b[18]!==l?(m=j.jsx(c("MWXMenuItem.react"),{"aria-label":g,icon:e,loggingEvent:"report_thread",onClick:l,primaryText:g}),b[17]=e,b[18]=l,b[19]=m):m=b[19];return m}function k(a){var b=d("LSMessagingThreadTypeUtil").isOneToOne(a),c=d("LSMessagingThreadTypeUtil").isGroup(a);a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);if(b&&a)return"messenger_encrypted_direct_thread";else if(b&&!a)return"messenger_direct_thread_details";else if(c&&a)return"messenger_encrypted_group_thread";else if(c&&!a)return"messenger_group_thread_details";else return"unknown"}g["default"]=a}),226);
__d("MWV2MessageReactionMenuItem.react",["fbt","MWChatReactionsActionContainer.react","MWV2MessageRowActionsContext.react","MWXMenuItem.react","ODS","emptyFunction","react","useMWChatReactionsActionContainerProps.react","useMWV2ShouldDisableReactions.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useCallback,m=b.useEffect;function a(a){var b=a.closeActionsMenu,e=a.message,f=a.onReactionsSendLogger,g=a.reactionsPopoverResource;a=a.threadType;var i=h._(/*BTDS*/"B\u00e0y t\u1ecf c\u1ea3m x\u00fac"),n=c("useMWV2ShouldDisableReactions.react")(a,e.threadKey),o=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext(),p=o.openReactionsMenu,q=l(function(){p.current=c("emptyFunction");return},[p]);m(function(){return q},[q]);o=c("useMWChatReactionsActionContainerProps.react")(e,b,a,f,c("emptyFunction"),g);return n?null:k.jsx(c("MWChatReactionsActionContainer.react"),babelHelpers["extends"]({},o,{children:function(a,b,e,f,g,h){e=function(){b(),(j||(j=d("ODS"))).bumpEntityKey(3185,"mwchat_actions","reaction")};p.current=e;return k.jsx(c("MWXMenuItem.react"),{"aria-label":i,loggingEvent:"click_react_to_message",onClick:e,onHoverIn:f,onHoverOut:g,onPressIn:h,preventClosingMenuOnSelect:!0,primaryText:i,ref:a})}}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2RemoveMenuItem.react",["fbt","I64","Int64Hooks","JSResourceForInteraction","LSDeleteMessageStoredProcedure","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWMessageDeliveryStatus","MWPActor.react","MWV2LogMessageClick","MWV2OnlyGlobalRemoveMessageDialog.entrypoint","MWXMenuItem.react","MessengerWebUXLogger","WebUserFlowLoggingDataContextProvider.react","gkx","isDeliveryStatusErrorState","mwCMIsAnyCMThread","promiseDone","react","react-compiler-runtime","useGetMediaGroupInformation","useHandleRemoveLocalMessage","useIsSecureMessage","useMWXEntryPointDialog","useMWXLazyDialog","useReStore","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;var n=b.useContext,o=b.useRef,p=c("JSResourceForInteraction")("MWV2RemoveMessageDialog.react").__setRef("MWV2RemoveMenuItem.react");function a(a){var b=d("react-compiler-runtime").c(59),e=a.canRemoveMessageGlobally,g=a.canRemoveMessageLocally,l=a.learnMoreOnMessageRemove,q=a.message,r=a.onRemoveMessageLogger,s=a.threadType;a=a.title;var t=(i||(i=c("useReStore")))(),u=q.messageId,v=q.threadKey,w;b[0]!==s?(w={fallbackThreadType:s},b[0]=s,b[1]=w):w=b[1];w=c("useIsSecureMessage")(t,q,w);w=c("useGetMediaGroupInformation")(q,w);var x;b[2]!==q.sendStatusV2||b[3]!==s?(x=c("mwCMIsAnyCMThread")(s)&&(j||(j=d("I64"))).equal(q.sendStatusV2,(k||(k=d("LSIntEnum"))).ofNumber(4)),b[2]=q.sendStatusV2,b[3]=s,b[4]=x):x=b[4];var y=x,z;b[5]!==t||b[6]!==u||b[7]!==v?(x=function(){c("promiseDone")(t.runInTransaction(function(a){return c("LSDeleteMessageStoredProcedure")(c("LSFactory")(a),{messageId:u,threadKey:v})},"readwrite",void 0,void 0,f.id+":80"))},z=[t,v,u],b[5]=t,b[6]=u,b[7]=v,b[8]=x,b[9]=z):(x=b[8],z=b[9]);var A=d("Int64Hooks").useCallbackInt64(x,z);x=o(null);z=d("MWPActor.react").useActor();var B;b[10]!==z||b[11]!==q.senderId?(B=(j||(j=d("I64"))).equal(q.senderId,z),b[10]=z,b[11]=q.senderId,b[12]=B):B=b[12];var C=B;z=C&&e;b[13]!==l||b[14]!==q||b[15]!==a?(B={learnMoreOnMessageRemove:l,message:q,title:a},b[13]=l,b[14]=q,b[15]=a,b[16]=B):B=b[16];var D=B;b[17]!==e||b[18]!==g||b[19]!==l||b[20]!==q||b[21]!==r||b[22]!==s||b[23]!==a?(B={canRemoveMessageGlobally:e,canRemoveMessageLocally:g,learnMoreOnMessageRemove:l,message:q,removeLogger:r,threadType:s,title:a},b[17]=e,b[18]=g,b[19]=l,b[20]=q,b[21]=r,b[22]=s,b[23]=a,b[24]=B):B=b[24];var E=B,F=c("MessengerWebUXLogger").useInteractionLogger();e=n(d("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext);var G=e.setLoggingData;b[25]===Symbol["for"]("react.memo_cache_sentinel")?(g={},b[25]=g):g=b[25];l=c("useMWXEntryPointDialog")(c("MWV2OnlyGlobalRemoveMessageDialog.entrypoint"),g);var H=l[0];a=c("useMWXLazyDialog")(p);var I=a[0],J=c("useHandleRemoveLocalMessage")(s,q,r);b[26]!==E||b[27]!==D||b[28]!==C||b[29]!==q.isUnsent||b[30]!==q.sendStatusV2||b[31]!==J||b[32]!==I||b[33]!==H||b[34]!==s?(B=function(a){if(c("isDeliveryStatusErrorState")(d("MWMessageDeliveryStatus").getFromSendStatus(q.sendStatusV2))){J(a);return}d("MWCMThreadTypes.react").isJoinedCMThread(s)||d("LSMessagingThreadTypeUtil").isDiscoverableChannel(s)||C&&!c("gkx")("24140")&&!q.isUnsent||d("LSMessagingThreadTypeUtil").isCMSubthread(s)?H(D):I(E)},b[26]=E,b[27]=D,b[28]=C,b[29]=q.isUnsent,b[30]=q.sendStatusV2,b[31]=J,b[32]=I,b[33]=H,b[34]=s,b[35]=B):B=b[35];var K=B;b[36]!==t||b[37]!==A||b[38]!==y||b[39]!==C||b[40]!==F||b[41]!==q||b[42]!==K||b[43]!==G||b[44]!==v||b[45]!==s?(e=function(){var a={extraData:{actor_type:C?"sender":"receiver"},flowInstanceId:c("uuidv4")(),threadKey:v,threadType:s};F==null?void 0:F(babelHelpers["extends"]({},a,{eventName:"message_remove_attempt"}));G(a);d("MWV2LogMessageClick").log(t,q,45);return q.subscriptErrorMessage!=null&&y?A():K(a)},b[36]=t,b[37]=A,b[38]=y,b[39]=C,b[40]=F,b[41]=q,b[42]=K,b[43]=G,b[44]=v,b[45]=s,b[46]=e):e=b[46];g=e;b[47]!==z?(l=z?h._(/*BTDS*/"Thu h\u1ed3i tin nh\u1eafn"):h._(/*BTDS*/"G\u1ee1 tin nh\u1eafn"),b[47]=z,b[48]=l):l=b[48];b[49]!==z?(a=z?h._(/*BTDS*/"Thu h\u1ed3i"):h._(/*BTDS*/"X\u00f3a"),b[49]=z,b[50]=a):a=b[50];b[51]!==C||b[52]!==w?(r=w!=null&&((w==null?void 0:w.hasMissingMessages)||(w==null?void 0:w.hasMissingMedia))?C?h._(/*BTDS*/"Kh\u00f4ng th\u1ec3 thu h\u1ed3i h\u00ecnh \u1ea3nh ch\u01b0a t\u1ea3i \u0111\u01b0\u1ee3c"):h._(/*BTDS*/"Kh\u00f4ng th\u1ec3 g\u1ee1 h\u00ecnh \u1ea3nh ch\u01b0a t\u1ea3i \u0111\u01b0\u1ee3c"):void 0,b[51]=C,b[52]=w,b[53]=r):r=b[53];b[54]!==g||b[55]!==l||b[56]!==a||b[57]!==r?(B=m.jsx(c("MWXMenuItem.react"),{"aria-label":l,onClick:g,primaryText:a,ref:x,secondaryText:r,testid:void 0}),b[54]=g,b[55]=l,b[56]=a,b[57]=r,b[58]=B):B=b[58];return B}g["default"]=a}),226);
__d("MWV2ReplyMenuItem.react",["fbt","MWPReplyContext.react","MWXMenuItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=d("react-compiler-runtime").c(8),e=a.message;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Tr\u1ea3 l\u1eddi"),b[0]=a):a=b[0];a=a;var f=k(d("MWPReplyContext.react").MWPReplyContext),g=f.setReply;b[1]!==e.messageId||b[2]!==e.offlineThreadingId||b[3]!==e.sendStatusV2||b[4]!==e.threadKey||b[5]!==e.timestampMs||b[6]!==g?(f=j.jsx(c("MWXMenuItem.react"),{"aria-label":a,onClick:function(){return g({messageId:e.messageId,offlineThreadingId:e.offlineThreadingId,sendStatusV2:e.sendStatusV2,threadKey:e.threadKey,timestampMs:e.timestampMs},e.threadKey)},primaryText:a,testid:void 0}),b[1]=e.messageId,b[2]=e.offlineThreadingId,b[3]=e.sendStatusV2,b[4]=e.threadKey,b[5]=e.timestampMs,b[6]=g,b[7]=f):f=b[7];return f}g["default"]=a}),226);
__d("useReStoreIfAvailable",["useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=c("useReStore")))()}g["default"]=a}),98);
__d("useMWV2ReportMessage.react",["fbt","I64","LSFactory","LSIntEnum","LSInternetConnectionState","LSReportMessageInCommunityChannelStoredProcedure","ReQL","promiseDone","react","react-compiler-runtime","useMWXConfirmationDialog","useMWXPushToast","useReStoreIfAvailable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;(i||d("react")).useCallback;function a(a,b){var e=d("react-compiler-runtime").c(10),f=c("useReStoreIfAvailable")(),g=c("useMWXConfirmationDialog")(),i;e[0]!==a?(i=(j||(j=d("I64"))).isI64(a)?a:(j||(j=d("I64"))).of_string(a),e[0]=a,e[1]=i):i=e[1];var l=i,m=c("useMWXPushToast")();e[2]!==f||e[3]!==l||e[4]!==b||e[5]!==m?(a=function(){if(f==null)return;c("promiseDone")(async function(){await f.runInTransaction(function(a){return c("LSReportMessageInCommunityChannelStoredProcedure")(c("LSFactory")(a),{messageId:b,threadKey:l})},"readwrite");var a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.connectivity_status));a!=null&&(j||(j=d("I64"))).equal(a.internetConnectionState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED))&&m({body:h._(/*BTDS*/"B\u1ea1n \u0111\u00e3 b\u00e1o c\u00e1o m\u1ed9t tin nh\u1eafn v\u1edbi qu\u1ea3n tr\u1ecb vi\u00ean nh\u00f3m.")})}())},e[2]=f,e[3]=l,e[4]=b,e[5]=m,e[6]=a):a=e[6];var n=a;e[7]!==n||e[8]!==g?(i=function(){return g({body:h._(/*BTDS*/"N\u1ebfu b\u1ea1n b\u00e1o c\u00e1o, tin nh\u1eafn n\u00e0y s\u1ebd \u0111\u01b0\u1ee3c g\u1eedi cho qu\u1ea3n tr\u1ecb vi\u00ean nh\u00f3m xem x\u00e9t."),confirm:h._(/*BTDS*/"B\u00e1o c\u00e1o"),title:h._(/*BTDS*/"B\u00e1o c\u00e1o tin nh\u1eafn v\u1edbi qu\u1ea3n tr\u1ecb vi\u00ean nh\u00f3m?")},n)},e[7]=n,e[8]=g,e[9]=i):i=e[9];a=i;return a}g.default=a}),226);
__d("MWV2ReportMessageMenuItem.react",["fbt","CometFRX.entrypoint","MWXMenuItem.react","gkx","react","react-compiler-runtime","useMWLSMessageReportingToken","useMWV2ReportMessage.react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.isSubthread;a=a.message;e=e===void 0?!1:e;var f=c("useMWLSMessageReportingToken")(a.messageId,a.threadKey);e=e?"messenger_community_messaging_subthread_view":"messenger_community_messaging_group_thread_details";var g;b[0]!==f||b[1]!==e?(g={entryPoint:"groups_report_long_press_to_admin",id:f,location:e},b[0]=f,b[1]=e,b[2]=g):g=b[2];f=c("useMWXEntryPointDialog")(c("CometFRX.entrypoint"),g);var i=f[0];e=c("useMWV2ReportMessage.react")(a.threadKey,a.messageId);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"B\u00e1o c\u00e1o v\u1edbi qu\u1ea3n tr\u1ecb vi\u00ean nh\u00f3m"),b[3]=g):g=b[3];f=g;a=c("gkx")("24042");b[4]!==e||b[5]!==i?(g=a?function(){return i({})}:e,b[4]=e,b[5]=i,b[6]=g):g=b[6];b[7]!==g?(a=j.jsx(c("MWXMenuItem.react"),{"aria-label":f,onClick:g,primaryText:f,testid:void 0}),b[7]=g,b[8]=a):a=b[8];return a}g["default"]=a}),226);
__d("MWV2ReportMessageToFBMenuItem.react",["CometFRX.entrypoint","MWXMenuItem.react","react","react-compiler-runtime","useMWLSMessageReportingToken","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.icon,f=a.isSubthread,g=a.menuItemLabel,h=a.messageId,j=a.onReportLogger;a=a.threadKey;f=f===void 0?!1:f;h=c("useMWLSMessageReportingToken")(h,a);a=f?"messenger_community_messaging_subthread_view":"messenger_community_messaging_group_thread_details";b[0]!==h||b[1]!==a?(f={entryPoint:"report_long_press",id:h,location:a},b[0]=h,b[1]=a,b[2]=f):f=b[2];h=f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[3]=a):a=b[3];var k=a;f=h;a=c("useMWXEntryPointDialog")(c("CometFRX.entrypoint"),f);var l=a[0];b[4]!==l?(h=function(){return l(k)},b[4]=l,b[5]=h):h=b[5];var m=h;b[6]!==j||b[7]!==m?(f=function(){j&&j(),m()},b[6]=j,b[7]=m,b[8]=f):f=b[8];b[9]!==e||b[10]!==g||b[11]!==f?(a=i.jsx(c("MWXMenuItem.react"),{"aria-label":g,icon:e,onClick:f,primaryText:g}),b[9]=e,b[10]=g,b[11]=f,b[12]=a):a=b[12];return a}g["default"]=a}),98);
__d("getIsMessageTimeBelowEditThreshold",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("I64"))).of_int32(15*60);function a(a,b){a=(h||(h=d("I64"))).div(a,h.of_int32(1e3));b=h.div(b,h.of_int32(1e3));a=h.sub(a,b);return h.lt(a,i)}g.MAX_EDIT_TIME_PERIOD_IN_SECONDS=i;g.getIsMessageTimeBelowEditThreshold=a}),98);
__d("useMWPCanUserEditMessage",["I64","LSAuthorityLevel","LSContactBitOffset","LSContactTypeExact","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWMessageDeliveryStatus","MWPActor.react","ReQL","ReQLSuspense","URLMatcher","getIsMessageTimeBelowEditThreshold","gkx","isDeliveryStatusErrorState","isMWBumpMessage","isStringNullOrEmpty","mwCMIsAnyCMThread","mwCMIsCMSubthread","react-compiler-runtime","useMWGetOtherUserContact","useMWIsContactRestricted","useReStore","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=5;function a(a,b,e){var g,m,n=d("react-compiler-runtime").c(42),o=d("MWPActor.react").useActor(),p=(j||(j=c("useReStore")))(),q;n[0]!==p.tables.attachments||n[1]!==a.messageId||n[2]!==a.threadKey?(q=function(){return d("ReQL").fromTableAscending(p.tables.attachments).getKeyRange(a.threadKey,a.messageId)},n[0]=p.tables.attachments,n[1]=a.messageId,n[2]=a.threadKey,n[3]=q):q=n[3];var r;n[4]!==p||n[5]!==a.messageId||n[6]!==a.threadKey?(r=[p,a.messageId,a.threadKey],n[4]=p,n[5]=a.messageId,n[6]=a.threadKey,n[7]=r):r=n[7];q=d("ReQLSuspense").useFirst(q,r,f.id+":68");n[8]===Symbol["for"]("react.memo_cache_sentinel")?(r=["contactTypeExact"].concat(d("LSContactBitOffset").contactCapabilityFields),n[8]=r):r=n[8];r=c("useMWGetOtherUserContact")(a.threadKey,b.threadType,r);var s;n[9]!==r?(s=r!=null&&(h||(h=d("I64"))).equal(r.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_KID)),n[9]=r,n[10]=s):s=n[10];s=s;r=c("useMWIsContactRestricted")(r);e=d("MAWThreadCutover").useIsCutoverOpenThread(e);var t=c("useServerTime")();if(c("isDeliveryStatusErrorState")(d("MWMessageDeliveryStatus").getFromSendStatus(a.sendStatusV2)))return!1;if(b==null)return!1;g=(h||(h=d("I64"))).to_int32((g=a.editCount)!=null?g:(h||(h=d("I64"))).zero)<k;var u;n[11]!==a.timestampMs||n[12]!==t?(u=d("getIsMessageTimeBelowEditThreshold").getIsMessageTimeBelowEditThreshold((h||(h=d("I64"))).of_float(t.getTime()),a.timestampMs),n[11]=a.timestampMs,n[12]=t,n[13]=u):u=n[13];t=u;n[14]!==o||n[15]!==a.senderId?(u=(h||(h=d("I64"))).equal(a.senderId,o),n[14]=o,n[15]=a.senderId,n[16]=u):u=n[16];o=u;u=(u=a.isForwarded)!=null?u:!1;var v=a.text!=null&&a.text!=="",w=a.text!=null&&c("URLMatcher").match(a.text)!=null;m=(m=a.hotEmojiSize)!=null?m:(h||(h=d("I64"))).zero;var x;n[17]!==m?(x=(h||(h=d("I64"))).equal(m,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").NONE)),n[17]=m,n[18]=x):x=n[18];m=x;if(n[19]!==(q==null?void 0:q.hasXma)||n[20]!==a.mentionIds){x=((x=q==null?void 0:q.hasXma)!=null?x:!1)||!c("isStringNullOrEmpty")(a.mentionIds);n[19]=q==null?void 0:q.hasXma;n[20]=a.mentionIds;n[21]=x}else x=n[21];q=x;n[22]!==a.authorityLevel||n[23]!==a.isUnsent?(x=a.isUnsent===!1&&(h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),n[22]=a.authorityLevel,n[23]=a.isUnsent,n[24]=x):x=n[24];x=x;var y;n[25]!==a.replyType?(y=c("isMWBumpMessage")(a.replyType),n[25]=a.replyType,n[26]=y):y=n[26];y=y;var z;n[27]!==q||n[28]!==x||n[29]!==g||n[30]!==t||n[31]!==y||n[32]!==e||n[33]!==u||n[34]!==s||n[35]!==r||n[36]!==o||n[37]!==w||n[38]!==v||n[39]!==m||n[40]!==b?(z=g&&t&&o&&v&&!w&&m&&!u&&!e&&!q&&x&&!r&&!y&&!s&&l(b),n[27]=q,n[28]=x,n[29]=g,n[30]=t,n[31]=y,n[32]=e,n[33]=u,n[34]=s,n[35]=r,n[36]=o,n[37]=w,n[38]=v,n[39]=m,n[40]=b,n[41]=z):z=n[41];return z}function l(a){var b=a.threadType;if(d("LSMessagingThreadTypeUtil").isWorkThread(a.threadSubtype))return!1;if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(b))return!0;if(d("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(b))return!0;if(c("mwCMIsAnyCMThread")(b)||c("mwCMIsCMSubthread")(b))return d("LSThreadBitOffset").has(194,a)&&c("gkx")("7675");return d("LSMessagingThreadTypeUtil").isOpenFnFThread(a)?!0:!1}g["default"]=a}),98);
__d("MWV2ContextualActionsMenu.react",["fbt","BusinessMessageNegativeFeedbackMenuItem.react","BusinessMessagePositiveFeedbackMenuItem.react","I64","LSIntEnum","LSMessagingThreadTypeUtil","MAWEditMenuItem.react","MWBroadcastChannelLoggingShapes","MWCMCreateSubthreadMenuItem.react","MWChatMessageBothOrientationFocusGroup.react","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","MWLogBroadcastChannelFalcoEvent","MWPThreadCapabilitiesContext","MWPinMessageMenuItem.react","MWV2ForwardMenuItem.react","MWV2GlobalReportMessageMenuItem.react","MWV2MessageReactionMenuItem.react","MWV2RemoveMenuItem.react","MWV2ReplyMenuItem.react","MWV2ReportMessageMenuItem.react","MWV2ReportMessageToFBMenuItem.react","MWXMenu.react","MWXPopover.react","MessagingAttachmentType","MessagingThreadSubtype","WebUXLoggingSurfaceContextProvider","cr:1111","cr:1200","cr:14125","cr:21359","cr:2243","cr:4140","cr:5790","cr:6644","cr:6934","focusScopeQueries","gkx","react","react-compiler-runtime","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWPCanUserEditMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function a(a){var e=d("react-compiler-runtime").c(112),f=a.attachment,g=a.canRemoveMessageGlobally,i=a.canRemoveMessageLocally,m=a.containerThreadKey,n=a.extraActions,o=a.isOutgoing,p=a.learnMoreOnMessageRemove,q=a.message,r=a.onClose,s=a.onRemoveMessageLogger,t=a.removeMessageDialogTitle,u=a.showBumpActionInContextualMenu,v=a.showBusinessMessageFeedbackOptionsInContextualMenu,w=a.showCreateSubthread,x=a.showFeedbackOptionsInContextualMenu,y=a.showForwardActionInContextualMenu,z=a.showPinMessageActionInContextualMenu,A=a.showReactionInContextualMenu,B=a.showReplyActionInContextualMenu,C=a.showReportCommunityMessageToAdmin,D=a.showReportCommunityMessageToFacebook,E=a.showReportMessageToFacebook,F=a.showUnsendInContextualMenu,G=a.thread;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.blurMediaEnabled;a=c("gkx")("24098")&&a;var H;e[0]!==f?(H=f!=null?(j||(j=d("I64"))).equal(f.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):!1,e[0]=f,e[1]=H):H=e[1];H=H;var I;e[2]!==f?(I=f!=null?(j||(j=d("I64"))).equal(f.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):!1,e[2]=f,e[3]=I):I=e[3];I=I;a=a&&(H||I);var J=c("useMWEntrypoint")();H=G==null?void 0:G.threadType;I=G==null?void 0:G.threadSubtype;var K=c("useMWFalcoFeatureEventLogger")(q.threadKey,H),L;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(L=h._(/*BTDS*/"H\u00e0nh \u0111\u1ed9ng kh\u00e1c"),e[4]=L):L=e[4];L=L;var M;e[5]!==I?(M=I!=null&&(j||(j=d("I64"))).equal(I,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD)),e[5]=I,e[6]=M):M=e[6];I=M;M=c("useMWPCanUserEditMessage")(q,G,m);e[7]!==G.threadType?(m=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(G.threadType),e[7]=G.threadType,e[8]=m):m=e[8];var N=m;m=d("MWEncryptedBackupsSharedState").useEBSharedStateEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").VERIFY_KEYS_IN_CHAT_ENABLED);m=m[0];m=m==="true";var O;e[9]!==q||e[10]!==a||e[11]!==B?(O=B&&!a?l.jsx(c("MWV2ReplyMenuItem.react"),{message:q}):null,e[9]=q,e[10]=a,e[11]=B,e[12]=O):O=e[12];e[13]!==q||e[14]!==r||e[15]!==A||e[16]!==H?(a=A?l.jsx(c("MWV2MessageReactionMenuItem.react"),{closeActionsMenu:r,message:q,threadType:H}):null,e[13]=q,e[14]=r,e[15]=A,e[16]=H,e[17]=a):a=e[17];e[18]!==q||e[19]!==M||e[20]!==H?(B=M?l.jsx(c("MAWEditMenuItem.react"),{message:q,threadType:H}):null,e[18]=q,e[19]=M,e[20]=H,e[21]=B):B=e[21];e[22]!==g||e[23]!==i||e[24]!==p||e[25]!==q||e[26]!==s||e[27]!==t||e[28]!==F||e[29]!==H?(r=F?l.jsx(c("MWV2RemoveMenuItem.react"),{canRemoveMessageGlobally:g,canRemoveMessageLocally:i,learnMoreOnMessageRemove:p,message:q,onRemoveMessageLogger:s,threadType:H,title:t}):null,e[22]=g,e[23]=i,e[24]=p,e[25]=q,e[26]=s,e[27]=t,e[28]=F,e[29]=H,e[30]=r):r=e[30];e[31]!==q||e[32]!==y||e[33]!==H?(A=y?l.jsx(c("MWV2ForwardMenuItem.react"),{message:q,threadType:H}):null,e[31]=q,e[32]=y,e[33]=H,e[34]=A):A=e[34];e[35]!==q||e[36]!==u||e[37]!==G.threadKey?(M=u&&b("cr:14125")?l.jsx(b("cr:14125"),{message:q,threadKey:G.threadKey}):null,e[35]=q,e[36]=u,e[37]=G.threadKey,e[38]=M):M=e[38];e[39]!==q||e[40]!==w?(g=w?l.jsx(c("MWCMCreateSubthreadMenuItem.react"),{message:q}):null,e[39]=q,e[40]=w,e[41]=g):g=e[41];e[42]!==J||e[43]!==N||e[44]!==K||e[45]!==q||e[46]!==z||e[47]!==G.threadKey?(i=z?l.jsx(c("MWPinMessageMenuItem.react"),{message:q,onClick:function(a){if(N){a=a?d("MWBroadcastChannelLoggingShapes").UNPIN_MESSAGE:d("MWBroadcastChannelLoggingShapes").PIN_MESSAGE;d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent(babelHelpers["extends"]({},a,{threadFbid:G.threadKey}))}},onPinCompleted:function(){K(J,"pin_message")}}):null,e[42]=J,e[43]=N,e[44]=K,e[45]=q,e[46]=z,e[47]=G.threadKey,e[48]=i):i=e[48];e[49]!==q||e[50]!==C?(p=C?l.jsx(c("MWV2ReportMessageMenuItem.react"),{message:q}):null,e[49]=q,e[50]=C,e[51]=p):p=e[51];e[52]!==q.messageId||e[53]!==q.threadKey||e[54]!==D||e[55]!==H?(s=D?l.jsx(c("MWV2ReportMessageToFBMenuItem.react"),{isSubthread:d("LSMessagingThreadTypeUtil").isCMSubthread(H),menuItemLabel:h._(/*BTDS*/"B\u00e1o c\u00e1o"),messageId:q.messageId,threadKey:q.threadKey}):null,e[52]=q.messageId,e[53]=q.threadKey,e[54]=D,e[55]=H,e[56]=s):s=e[56];e[57]!==q.messageId||e[58]!==q.threadKey||e[59]!==E||e[60]!==H?(t=E?l.jsx(c("MWV2GlobalReportMessageMenuItem.react"),{messageId:q.messageId,threadKey:q.threadKey,threadType:H}):null,e[57]=q.messageId,e[58]=q.threadKey,e[59]=E,e[60]=H,e[61]=t):t=e[61];e[62]!==m||e[63]!==q?(F=m&&b("cr:21359")!=null?l.jsx(b("cr:21359"),{_message:q}):null,e[62]=m,e[63]=q,e[64]=F):F=e[64];e[65]!==q?(y=b("cr:5790")?l.jsx(b("cr:5790"),{message:q}):null,e[65]=q,e[66]=y):y=e[66];e[67]!==N||e[68]!==o||e[69]!==q?(u=b("cr:6934")!=null&&N&&!o&&l.jsx(b("cr:6934"),{message:q}),e[67]=N,e[68]=o,e[69]=q,e[70]=u):u=e[70];e[71]!==o||e[72]!==I||e[73]!==q?(w=b("cr:2243")!=null&&!o&&I&&l.jsx(b("cr:2243"),{message:q}),e[71]=o,e[72]=I,e[73]=q,e[74]=w):w=e[74];e[75]!==q||e[76]!==x?(z=b("cr:1200")!=null&&x&&l.jsx(b("cr:1200"),{message:q}),e[75]=q,e[76]=x,e[77]=z):z=e[77];e[78]!==q||e[79]!==x?(C=b("cr:1111")!=null&&x&&l.jsx(b("cr:1111"),{message:q}),e[78]=q,e[79]=x,e[80]=C):C=e[80];e[81]!==q||e[82]!==v?(D=c("BusinessMessagePositiveFeedbackMenuItem.react")!=null&&v&&l.jsx(c("BusinessMessagePositiveFeedbackMenuItem.react"),{message:q}),e[81]=q,e[82]=v,e[83]=D):D=e[83];e[84]!==q||e[85]!==v?(E=c("BusinessMessageNegativeFeedbackMenuItem.react")!=null&&v&&l.jsx(c("BusinessMessageNegativeFeedbackMenuItem.react"),{message:q}),e[84]=q,e[85]=v,e[86]=E):E=e[86];e[87]!==f||e[88]!==q?(H=b("cr:4140")?l.jsxs(l.Fragment,{children:[b("cr:6644")&&l.jsx(b("cr:6644"),{}),l.jsx(b("cr:4140"),{attachment:f,message:q})]}):null,e[87]=f,e[88]=q,e[89]=H):H=e[89];e[90]!==n||e[91]!==A||e[92]!==M||e[93]!==g||e[94]!==i||e[95]!==p||e[96]!==s||e[97]!==t||e[98]!==F||e[99]!==y||e[100]!==u||e[101]!==w||e[102]!==z||e[103]!==C||e[104]!==D||e[105]!==E||e[106]!==H||e[107]!==O||e[108]!==a||e[109]!==B||e[110]!==r?(m=l.jsx(c("MWXPopover.react"),{role:"menu",withArrow:!0,children:l.jsx(d("MWChatMessageBothOrientationFocusGroup.react").keyCommands,{children:l.jsx(d("MWChatMessageBothOrientationFocusGroup.react").FocusGroup,{allowModifiers:!0,orientation:"both",preventScrollOnFocus:!1,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,children:l.jsx(c("MWXMenu.react"),{"aria-label":L,size:"full",truncate:!0,children:l.jsxs(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_view_message_options",children:[O,a,B,r,A,M,g,i,p,s,t,F,y,u,w,z,C,D,E,n,H]})})})})}),e[90]=n,e[91]=A,e[92]=M,e[93]=g,e[94]=i,e[95]=p,e[96]=s,e[97]=t,e[98]=F,e[99]=y,e[100]=u,e[101]=w,e[102]=z,e[103]=C,e[104]=D,e[105]=E,e[106]=H,e[107]=O,e[108]=a,e[109]=B,e[110]=r,e[111]=m):m=e[111];return m}g["default"]=a}),226);
__d("MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical__communityFolder.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical__communityFolder",selections:[{alias:"fbGroupId",args:null,kind:"ScalarField",name:"fb_group_id",storageKey:null}],type:"LS_CommunityFolder",abstractKey:null};e.exports=a}),null);
__d("MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","LSRelayHooks","MWChatComposerMentionsViewItem.react","MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical__communityFolder.graphql","messengerMentionsLexicalCreateNodeStrategy","pageID","promiseDone","react","react-compiler-runtime","useCometTypeaheadViewListStrategy","useCommunityMembers","useMWCMMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useEffect,l={view:{minWidth:"x1jzhcrs",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(8),f=a.communityFolder$key,g=a.editor;a=a.threadKey;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical__communityFolder.graphql"),e[0]=i):i=e[0];i=d("LSRelayHooks").useFragment(i,f);f=i.fbGroupId;i=c("useMWCMMentionsDataSourceResolverConfig")(f,a);e[1]===Symbol["for"]("react.memo_cache_sentinel")?(f={viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:l.view},e[1]=f):f=e[1];a=c("useCometTypeaheadViewListStrategy")(f);var m=d("useCommunityMembers").useClearMemberList(8);e[2]!==m?(f=function(){return function(){return c("promiseDone")(m(c("pageID")))}},e[2]=m,e[3]=f):f=e[3];k(f,void 0);e[4]!==i||e[5]!==g||e[6]!==a?(f=j.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:i,editor:g,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:a}),e[4]=i,e[5]=g,e[6]=a,e[7]=f):f=e[7];return f}g["default"]=a}),98);
__d("MWXRelayComposerMentionsPlugin_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWXRelayComposerMentionsPlugin_thread",selections:[{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},{alias:"hasMentionsCapability",args:[{kind:"Literal",name:"capability",value:"MENTIONS"}],kind:"ScalarField",name:"has_capability",storageKey:'has_capability(capability:"MENTIONS")'},{alias:"isAiBotSummoningEnabled",args:[{kind:"Literal",name:"capability",value:"AI_BOT_SUMMONING"}],kind:"ScalarField",name:"has_capability",storageKey:'has_capability(capability:"AI_BOT_SUMMONING")'},{args:null,kind:"FragmentSpread",name:"MWXRelayComposerPluginCreatorWithTypeaheadViewForLexical_thread"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWXRelayComposerPluginCreatorWithTypeaheadViewForLexical_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0,throwOnFieldError:!0},name:"MWXRelayComposerPluginCreatorWithTypeaheadViewForLexical_thread",selections:[{alias:"folder",args:null,concreteType:"LS_CommunityFolder",kind:"LinkedField",name:"community_folder",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical__communityFolder"}],storageKey:null},{alias:"threadKey",args:null,kind:"ScalarField",name:"thread_key",storageKey:null},{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},{alias:"parentThreadKey",args:null,kind:"ScalarField",name:"parent_thread_key",storageKey:null},{alias:"isSecure",args:null,kind:"ScalarField",name:"is_secure_thread",storageKey:null},{alias:"otherParticipants",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participants_MAY_CAUSE_OVERFETCHING",plural:!0,selections:[{alias:"contactId",args:null,kind:"ScalarField",name:"contact_id",storageKey:null},{alias:"isAdmin",args:null,kind:"ScalarField",name:"is_admin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"profilePictureFallbackUrl",args:null,kind:"ScalarField",name:"profile_picture_fallback_url",storageKey:null},{alias:"profilePictureUrl",args:null,kind:"ScalarField",name:"profile_picture_url",storageKey:null},{alias:"blockedByViewerStatus",args:null,kind:"ScalarField",name:"blocked_by_viewer_status",storageKey:null},{alias:"profilePictureUrlExpirationTimestampMs",args:null,kind:"ScalarField",name:"profile_picture_url_expiration_timestamp_ms",storageKey:null},{alias:"secondaryName",args:null,kind:"ScalarField",name:"secondary_name",storageKey:null},{alias:"workJobTitle",args:null,kind:"ScalarField",name:"work_job_title",storageKey:null},{alias:"workForeignEntityInfo",args:null,kind:"ScalarField",name:"work_foreign_entity_type",storageKey:null},{alias:"contactTypeExact",args:null,kind:"ScalarField",name:"contact_type_exact",storageKey:null}],storageKey:null}],storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWXRelayComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","LSMessagingThreadTypeUtil","LSRelayHooks","MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","MWCMThreadTypes.react","MWChatAppendMentionsNodeToReply","MWChatComposerMentionsViewItem.react","MWChatComposerTypeaheadUtil","MWLSContactTypeExactUtils","MWWorkForeignEntityTypeUtils","MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical.react","MWXRelayComposerPluginCreatorWithTypeaheadViewForLexical_thread.graphql","MessengerWebUXLogger","cr:4183","err","getLSMediaContactProfilePictureUrl","messengerMentionsLexicalCreateNodeStrategy","messengerSecureMentionsLexicalCreateNodeStrategy","react","react-compiler-runtime","useCometTypeaheadSectionedViewListStrategy","useMWChatMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));f=i;f.useCallback;f.useMemo;function a(a){return l}function l(a,b){}var m=(f=b("cr:4183"))!=null?f:a,n={view:{minWidth:"x1jzhcrs",$$css:!0}};function e(a){var e=d("react-compiler-runtime").c(30),f=a.editor,g=a.isAiBotMentionsEnabled;a=a.thread$key;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("MWXRelayComposerPluginCreatorWithTypeaheadViewForLexical_thread.graphql"),e[0]=i):i=e[0];i=d("LSRelayHooks").useFragment(i,a);a=i.folder;var l=i.isSecure,q=i.otherParticipants,r=i.parentThreadKey,s=i.threadKey;i=i.threadType;d("MWChatAppendMentionsNodeToReply").useMWChatAppendMentionsNodeToReply(f,s,g);var t=d("LSMessagingThreadTypeUtil").isCMSubthread(i);t=t?r:s;r=m(t);var u;e[1]!==q?(u=new Map(q==null?void 0:q.filter(p).map(o)),e[1]=q,e[2]=u):u=e[2];e[3]!==t?(q=(j||(j=d("I64"))).to_string(t),e[3]=t,e[4]=q):q=e[4];var v;e[5]!==g||e[6]!==u||e[7]!==q||e[8]!==r?(v={isAiBotMentionsEnabled:g,participants:u,threadFBID:q,triggerParticipantsSearch:r},e[5]=g,e[6]=u,e[7]=q,e[8]=r,e[9]=v):v=e[9];g=v;u=g;q=c("useMWChatMentionsDataSourceResolverConfig")(u);e[10]===Symbol["for"]("react.memo_cache_sentinel")?(r={viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:n.view},e[10]=r):r=e[10];v=c("useCometTypeaheadSectionedViewListStrategy")(r);var w=c("MessengerWebUXLogger").useInteractionLogger();e[11]!==l||e[12]!==w?(g=function(a){if(l===!0&&w!=null){a=a.handle!=null?d("MWChatComposerTypeaheadUtil").commandToRangeType(a.handle):null;bb74:switch(a){case"t":w({eventName:"mentions_everyone_selected"});break bb74;case"p":w({eventName:"mentions_recipient_selected"});break bb74;default:}}return{shouldMentionSelectedEntry:!0}},e[11]=l,e[12]=w,e[13]=g):g=e[13];u=g;if(c("MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical.react")!=null&&d("MWCMThreadTypes.react").isJoinedCMThread(i)&&a){e[14]!==f||e[15]!==a||e[16]!==t?(r=k.jsx(c("MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical.react"),{communityFolder$key:a,editor:f,threadKey:t}),e[14]=f,e[15]=a,e[16]=t,e[17]=r):r=e[17];return r}if(c("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react")!=null&&d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(i)){e[18]!==t?(g=(j||(j=d("I64"))).to_string(t),e[18]=t,e[19]=g):g=e[19];e[20]!==f||e[21]!==g||e[22]!==s?(a=k.jsx(c("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:f,folderId:s,threadFBID:g}),e[20]=f,e[21]=g,e[22]=s,e[23]=a):a=e[23];return a}r=l?c("messengerSecureMentionsLexicalCreateNodeStrategy"):c("messengerMentionsLexicalCreateNodeStrategy");e[24]!==q||e[25]!==f||e[26]!==u||e[27]!==r||e[28]!==v?(i=k.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:r,dataSourceResolverConfig:q,editor:f,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),mentionsHandlerForSelectedEntry:u,position:"above",viewStrategyRenderer:v}),e[24]=q,e[25]=f,e[26]=u,e[27]=r,e[28]=v,e[29]=i):i=e[29];return i}function o(a){var b,e=a.contact;if(e==null)throw c("err")("Unreachable code: missing contact");return[(j||(j=d("I64"))).to_string(a.contactId),{actualName:e.name,blockedByViewerStatus:e.blockedByViewerStatus,contactId:j.to_string(a.contactId),isAdmin:(b=a.isAdmin)!=null?b:!1,isContact:!0,jobTitle:(b=(b=a.contact)==null?void 0:b.workJobTitle)!=null?b:void 0,name:e.name,nickname:(b=a.nickname)!=null?b:void 0,profilePictureUrl:c("getLSMediaContactProfilePictureUrl")({profilePictureFallbackUrl:(a=e.profilePictureFallbackUrl)!=null?a:void 0,profilePictureUrl:e.profilePictureUrl,profilePictureUrlExpirationTimestampMs:(b=e.profilePictureUrlExpirationTimestampMs)!=null?b:void 0}),secondaryName:d("MWLSContactTypeExactUtils").isIgContact(e.contactTypeExact)?(a=e.secondaryName)!=null?a:void 0:void 0,workForeignEntityInfo:e.workForeignEntityInfo?d("MWWorkForeignEntityTypeUtils").getWorkForeignEntityType(e.workForeignEntityInfo):"NOT_FOREIGN"}]}function p(a){return(a==null?void 0:a.contact)!=null}g["default"]=e}),98);
__d("MWXRelayComposerMentionsPlugin.react",["LSMessagingThreadTypeUtil","LSRelayHooks","MWXRelayComposerMentionsPlugin_thread.graphql","MWXRelayComposerPluginCreatorWithTypeaheadViewForLexical.react","MessengerMSplitFlag","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(5),f=a.editor;a=a.thread$key;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h!==void 0?h:h=b("MWXRelayComposerMentionsPlugin_thread.graphql"),e[0]=g):g=e[0];g=d("LSRelayHooks").useFragment(g,a);a=g.hasMentionsCapability;var i=g.isAiBotSummoningEnabled,k=g.threadType;a=a&&d("LSMessagingThreadTypeUtil").isGroup(k);if(!a)return null;k=c("gkx")("23426")&&i&&!c("MessengerMSplitFlag").is_msplit_account;e[1]!==f||e[2]!==k||e[3]!==g?(a=j.jsx(c("MWXRelayComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:f,isAiBotMentionsEnabled:k,thread$key:g}),e[1]=f,e[2]=k,e[3]=g,e[4]=a):a=e[4];return a}g["default"]=a}),98);
__d("MessageThreadEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5034");b=d("FalcoLoggerInternal").create("message_thread_events",a);e=b;g["default"]=e}),98);
__d("MessengerGroupCreationEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6706");b=d("FalcoLoggerInternal").create("messenger_group_creation_events",a);e=b;g["default"]=e}),98);
__d("MwbGroupBlockeeMessagesTapToRevealActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5396");b=d("FalcoLoggerInternal").create("mwb_group_blockee_messages_tap_to_reveal_action",a);e=b;g["default"]=e}),98);
__d("MwbHighlyForwardedIndicatorImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1323");b=d("FalcoLoggerInternal").create("mwb_highly_forwarded_indicator_impression",a);e=b;g["default"]=e}),98);